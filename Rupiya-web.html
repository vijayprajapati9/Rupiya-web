<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title data-i18n="pageTitle">Rupiya.app — Earth → Cloud (Pro Enhanced)</title>

    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Poppins:wght@600;700;800&display=swap"
        rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

    <style>
        /* ---------------------------
            RESET & BASE
        --------------------------- */
        :root {
            --earth-green: #008000;
            --leaf: #4CAF50;
            --cloud-navy: #1f2937;
            --bg-light: #f6fbf6;
            --surface: rgba(255, 255, 255, 0.7);
            --glass-border: rgba(255, 255, 255, 0.8);
            --accent: var(--leaf);
            --card-shadow: 0 16px 40px rgba(7, 20, 13, 0.1);
            --radius: 16px;
            --max-width: 1200px;
            --text: #374151;
        }

        /* Keyframes for animations */
        @keyframes pulse-shadow {
            0% {
                box-shadow: 0 8px 18px rgba(0, 128, 0, 0.25);
            }

            50% {
                box-shadow: 0 12px 28px rgba(0, 128, 0, 0.4);
            }

            100% {
                box-shadow: 0 8px 18px rgba(0, 128, 0, 0.25);
            }
        }

        @keyframes subtle-float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-6px);
            }
        }

        @keyframes icon-jiggle {

            0%,
            100% {
                transform: rotate(0deg) scale(1);
            }

            25% {
                transform: rotate(-8deg) scale(1.1);
            }

            75% {
                transform: rotate(8deg) scale(1.1);
            }
        }

        *,
        *::before,
        *::after {
            box-sizing: border-box
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            margin: 0;
            font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            background: linear-gradient(180deg, var(--bg-light) 0%, #edf9ff 80%);
            color: var(--text);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 12px 28px;
        }

        /* ---------------------------
            NAV (ENHANCED)
        --------------------------- */
        nav {
            position: sticky;
            top: 16px;
            z-index: 60;
            margin: 16px auto 0;
            max-width: calc(var(--max-width) - 40px);
            backdrop-filter: blur(14px);
            background: rgba(255, 255, 255, 0.95);
            border-radius: var(--radius);
            border: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 25px;
            box-shadow: 0 10px 30px rgba(13, 25, 16, 0.08);
            transition: all 0.3s;
            flex-wrap: wrap;
        }

        .logo {
            font-weight: 800;
            font-size: 1.4rem;
            color: var(--earth-green);
            font-family: "Poppins", sans-serif;
            letter-spacing: -0.5px;
        }

        .nav-menu {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .nav-links {
            display: flex;
            gap: 24px;
            align-items: center
        }

        .nav-links a {
            color: var(--cloud-navy);
            text-decoration: none;
            font-weight: 600;
            padding: 8px 12px;
            border-radius: 8px;
            position: relative;
            transition: color 0.2s
        }

        .nav-links a:hover {
            color: var(--earth-green)
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0%;
            height: 3px;
            bottom: -4px;
            left: 50%;
            background-color: var(--earth-green);
            transition: width 0.3s ease-out, left 0.3s ease-out;
        }

        .nav-links a:hover::after {
            width: 100%;
            left: 0;
        }

        .controls {
            display: flex;
            gap: 12px;
            align-items: center
        }

        .lang-switch {
            display: flex;
            background: rgba(0, 0, 0, 0.05);
            border-radius: 10px;
            padding: 4px
        }

        .lang-switch button {
            border: none;
            background: transparent;
            padding: 6px 10px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s
        }

        .lang-switch button.active {
            background: var(--earth-green);
            color: white;
            box-shadow: 0 3px 6px rgba(0, 128, 0, 0.2)
        }

        /* Role Dropdown Styles */
        .role-dropdown {
            position: relative;
        }

        .role-dropdown-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 14px;
            border-radius: 999px;
            background: white;
            border: 1px solid rgba(0, 0, 0, 0.08);
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            font-size: 0.85rem;
        }

        .role-dropdown-btn:hover {
            background: var(--leaf);
            color: white;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.2);
        }

        .role-dropdown-btn i {
            width: 14px;
            height: 14px;
            transition: transform 0.3s;
        }

        .role-dropdown.is-open .role-dropdown-btn i {
            transform: rotate(180deg);
        }

        .dropdown-menu {
            position: absolute;
            top: calc(100% + 10px);
            right: 0;
            background: white;
            border-radius: var(--radius);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 8px;
            min-width: 180px;
            z-index: 70;
            display: none;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .role-dropdown.is-open .dropdown-menu {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .dropdown-item {
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
            display: block;
        }

        .dropdown-item:hover {
            background: var(--bg-light);
            color: var(--earth-green);
        }

        .dropdown-item.active {
            background: var(--leaf);
            color: white;
        }

        /* Mobile Hamburger Menu */
        .mobile-menu-toggle {
            display: none;
            cursor: pointer;
            color: var(--cloud-navy);
            z-index: 101;
            width: 32px;
            height: 32px;
            transition: transform 0.3s ease;
            flex-shrink: 0;
            padding: 4px;
            border-radius: 6px;
        }

        .mobile-menu-toggle:hover {
            transform: scale(1.1);
            background: rgba(0, 0, 0, 0.05);
        }

        .mobile-menu-toggle:active {
            transform: scale(0.95);
        }

        /* ---------------------------
            HERO
        --------------------------- */
        .hero {
            display: grid;
            grid-template-columns: 1fr 450px;
            gap: 40px;
            align-items: center;
            margin: 30px auto;
            max-width: var(--max-width);
            padding: 30px;
            border-radius: var(--radius);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.7));
            box-shadow: var(--card-shadow);
            border: 1px solid var(--glass-border);
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .hero.show {
            opacity: 1;
        }

        .hero h1 {
            font-size: 3rem;
            margin: 0;
            line-height: 1.05;
            font-family: "Poppins", sans-serif;
            color: var(--cloud-navy);
            font-weight: 800;
            letter-spacing: -1px;
        }

        .hero h1 .accent {
            color: var(--earth-green)
        }

        .hero p {
            margin-top: 14px;
            font-size: 1.1rem;
            opacity: 0.85;
            color: var(--text)
        }

        .hero .ctas {
            margin-top: 24px;
            display: flex;
            gap: 16px;
            flex-wrap: wrap
        }

        .btn {
            background: var(--earth-green);
            color: white;
            padding: 14px 24px;
            border-radius: 12px;
            border: none;
            font-weight: 700;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 18px rgba(0, 128, 0, 0.25);
            transition: transform 0.3s, box-shadow 0.3s;
            text-transform: uppercase;
            font-size: 0.9rem;
            letter-spacing: 0.5px;
        }

        .btn.primary-cta {
            animation: pulse-shadow 2.5s infinite;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 25px rgba(0, 128, 0, 0.35);
            animation-play-state: paused;
        }

        .btn.secondary {
            background: transparent;
            color: var(--cloud-navy);
            border: 2px solid rgba(11, 37, 69, 0.1);
            box-shadow: none;
            animation: none;
        }

        .btn.secondary:hover {
            background: rgba(0, 128, 0, 0.06);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }

        .btn:after {
            content: "";
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.02));
            opacity: 0;
            transition: 0.6s
        }

        .btn:hover:after {
            opacity: 1;
            transform: translateX(6px)
        }

        .hero-illu {
            border-radius: 14px;
            overflow: hidden;
        }

        .hero-illu lottie-player {
            width: 100%;
            height: auto;
            max-height: 400px;
        }

        .stats {
            display: flex;
            gap: 20px;
            margin-top: 25px;
            justify-content: space-between;
            max-width: 480px;
        }

        .stat {
            background: linear-gradient(180deg, #fff, #f8fff8);
            padding: 14px 18px;
            border-radius: 12px;
            border: 1px solid rgba(46, 125, 50, 0.05);
            min-width: 140px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.04);
            transition: all 0.3s;
        }

        .stat:hover {
            transform: scale(1.05);
        }

        .stat .num {
            font-weight: 800;
            color: var(--earth-green);
            font-size: 1.2rem;
            font-family: "Poppins", sans-serif
        }

        .stat div:last-child {
            font-size: 14px;
            color: #445544
        }

        /* ---------------------------
            SECTIONS & CARDS
        --------------------------- */
        .section-divider {
            border: 0;
            height: 1px;
            background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 128, 0, 0.2), rgba(0, 0, 0, 0));
            margin: 25px 0;
        }

        .section-wrap.hidden+.section-divider {
            display: none;
        }

        .section-wrap {
            max-width: var(--max-width);
            margin: 20px auto;
            padding: 0 30px;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .section-wrap.show {
            opacity: 1;
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 14px;
            justify-content: center;
        }

        .section-title h2 {
            margin: 0;
            color: var(--cloud-navy);
            font-size: 2rem;
            font-family: "Poppins", sans-serif;
            font-weight: 700
        }

        .section-sub {
            color: var(--earth-green);
            opacity: 0.9;
            margin-top: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            text-align: center;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            margin-top: 30px
        }

        /* Card reveal logic */
        .card {
            background: var(--surface);
            border-radius: var(--radius);
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.7);
            box-shadow: var(--card-shadow);
            transition: transform .3s ease, box-shadow .3s;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.5s cubic-bezier(.2, .9, .3, 1);
        }

        .card.show {
            opacity: 1;
            transform: translateY(0);
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 22px 50px rgba(6, 20, 10, 0.12);
        }

        .card h3 {
            margin: 10px 0;
            color: var(--cloud-navy);
            font-weight: 700
        }

        .card p {
            margin: 0;
            color: var(--text);
            opacity: 0.85
        }

        /* RESTORED: Original Icon Styles - Enhanced for Accessibility */
        .icon-sm,
        .icon-lg {
            color: var(--earth-green);
            animation: subtle-float 3s ease-in-out infinite;
        }

        .icon-sm {
            width: 48px;
            height: 48px;
            margin-bottom: 12px;
        }

        .icon-lg {
            width: 72px;
            height: 72px;
            margin-bottom: 16px;
        }

        /* Enhanced Accessible Icons for Farmers */
        .icon-accessible {
            width: 64px;
            height: 64px;
            margin-bottom: 16px;
            color: var(--earth-green);
        }

        /* Farmer Journey Styles */
        .journey-container {
            max-width: var(--max-width);
            margin: 30px auto;
            padding: 0 30px;
        }

        .journey-timeline {
            position: relative;
            padding: 30px 0;
        }

        .journey-timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(180deg, var(--earth-green), var(--leaf));
            transform: translateX(-50%);
            border-radius: 2px;
        }

        .journey-step {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            position: relative;
        }

        .journey-step:nth-child(even) {
            flex-direction: row-reverse;
        }

        .journey-step-content {
            flex: 1;
            background: white;
            padding: 30px;
            border-radius: var(--radius);
            box-shadow: var(--card-shadow);
            border: 2px solid var(--glass-border);
            max-width: 45%;
            position: relative;
            transition: all 0.3s ease;
        }

        .journey-step-content:hover {
            transform: translateY(-5px);
            box-shadow: 0 22px 50px rgba(6, 20, 10, 0.15);
        }

        .journey-step-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--earth-green), var(--leaf));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            margin: 0 30px;
            position: relative;
            z-index: 10;
            box-shadow: 0 8px 20px rgba(0, 128, 0, 0.3);
            flex-shrink: 0;
        }

        .journey-step-number {
            position: absolute;
            top: -10px;
            right: -10px;
            background: var(--cloud-navy);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 0.9rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .journey-step h3 {
            margin: 0 0 12px 0;
            color: var(--cloud-navy);
            font-size: 1.4rem;
            font-weight: 700;
        }

        .journey-step p {
            margin: 0;
            color: var(--text);
            line-height: 1.7;
            font-size: 1.05rem;
        }

        /* FPO Dashboard Styles */
        .fpo-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-top: 30px;
        }

        .fpo-stat-card {
            background: linear-gradient(135deg, #ffffff, #f8fff8);
            padding: 28px;
            border-radius: var(--radius);
            border: 2px solid var(--glass-border);
            box-shadow: var(--card-shadow);
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .fpo-stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--earth-green), var(--leaf));
        }

        .fpo-stat-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 22px 50px rgba(6, 20, 10, 0.15);
        }

        .fpo-stat-icon {
            width: 64px;
            height: 64px;
            margin: 0 auto 16px;
            color: var(--earth-green);
        }

        .fpo-stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--earth-green);
            font-family: "Poppins", sans-serif;
            margin: 12px 0;
        }

        .fpo-stat-label {
            font-size: 1.1rem;
            color: var(--cloud-navy);
            font-weight: 600;
            margin-top: 8px;
        }

        .fpo-stat-desc {
            font-size: 0.9rem;
            color: #666;
            margin-top: 8px;
        }

        .fpo-chart-container {
            grid-column: 1 / -1;
            background: white;
            padding: 30px;
            border-radius: var(--radius);
            box-shadow: var(--card-shadow);
            border: 2px solid var(--glass-border);
            margin-top: 20px;
        }

        /* Enhanced Accessibility Styles */
        .accessible-text {
            font-size: 1.1rem;
            line-height: 1.8;
        }

        .accessible-heading {
            font-size: 2.2rem;
            line-height: 1.3;
            margin-bottom: 20px;
        }

        .high-contrast-mode {
            --earth-green: #006600;
            --leaf: #008000;
            --text: #000000;
            --cloud-navy: #000000;
        }

        /* Simple Layout for Farmers */
        .simple-layout {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .simple-card {
            background: white;
            padding: 32px;
            border-radius: 16px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            margin-bottom: 24px;
            border: 3px solid var(--earth-green);
        }

        .simple-card h3 {
            font-size: 1.8rem;
            margin-bottom: 16px;
            color: var(--earth-green);
        }

        .simple-card p {
            font-size: 1.2rem;
            line-height: 1.8;
        }

        /* Role-Based Visibility */
        [data-role] {
            display: block;
        }

        [data-role].hidden {
            display: none !important;
        }

        /* Role-based navigation */
        .nav-link-role {
            display: inline-block;
        }

        .nav-link-role.hidden {
            display: none;
        }

        /* Buyer Sections Styles */
        .buyer-catalog {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 24px;
            margin-top: 30px;
        }

        .product-card {
            background: white;
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--card-shadow);
            border: 2px solid var(--glass-border);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--earth-green), var(--leaf));
        }

        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 22px 50px rgba(6, 20, 10, 0.15);
        }

        .product-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--earth-green);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
        }

        .product-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #f0fff0, #e8f5e9);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
        }

        .product-image i {
            width: 80px;
            height: 80px;
            color: var(--earth-green);
            opacity: 0.3;
        }

        /* Investor Dashboard Styles */
        .investor-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-top: 30px;
        }

        .investor-metric-card {
            background: linear-gradient(135deg, #ffffff, #f8fff8);
            padding: 28px;
            border-radius: var(--radius);
            border: 2px solid var(--glass-border);
            box-shadow: var(--card-shadow);
            transition: all 0.3s ease;
        }

        .investor-metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 22px 50px rgba(6, 20, 10, 0.15);
        }

        .metric-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .metric-icon {
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, var(--earth-green), var(--leaf));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .metric-value {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--earth-green);
            font-family: "Poppins", sans-serif;
        }

        .metric-label {
            font-size: 1rem;
            color: var(--cloud-navy);
            font-weight: 600;
            margin-top: 8px;
        }

        .metric-change {
            font-size: 0.9rem;
            color: #4CAF50;
            font-weight: 600;
            margin-top: 4px;
        }

        .traceability-flow {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .flow-step {
            flex: 1;
            min-width: 200px;
            text-align: center;
            position: relative;
        }

        .flow-step::after {
            content: '→';
            position: absolute;
            right: -30px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2rem;
            color: var(--earth-green);
            font-weight: 700;
        }

        .flow-step:last-child::after {
            display: none;
        }

        .flow-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--earth-green), var(--leaf));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px;
            color: white;
            box-shadow: 0 8px 20px rgba(0, 128, 0, 0.3);
        }

        /* Stagger the float animation */
        .card:nth-child(2) .icon-sm,
        .card:nth-child(2) .icon-lg {
            animation-delay: 0.3s;
        }

        .card:nth-child(3) .icon-sm,
        .card:nth-child(3) .icon-lg {
            animation-delay: 0.6s;
        }


        .svg-box {
            background: #fff;
            border-radius: 18px;
            padding: 25px;
            border: 1px solid rgba(0, 0, 0, 0.06);
            box-shadow: 0 8px 26px rgba(0, 0, 0, 0.04)
        }

        /* CORRECTED: Tooltip Style */
        .tooltip {
            background: #fff;
            padding: 10px 15px;
            border-radius: 10px;
            border: 1px solid var(--earth-green);
            box-shadow: 0 8px 20px rgba(4, 10, 6, 0.1);
            font-weight: 600;
            color: var(--cloud-navy);
            transition: opacity 0.3s;
            opacity: 0;
            /* Start hidden */
            position: absolute;
            /* Needed for reliable positioning */
            z-index: 10;
        }

        .calc {
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: flex-start
        }

        .calc .left {
            flex: 1;
            width: 100%
        }

        .calc .right {
            width: 100%
        }

        .calc-input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .calc-input-wrapper {
            position: relative;
        }

        .calc-input-wrapper input,
        .calc-input-wrapper select {
            width: 100%;
            padding: 14px 16px;
            border-radius: 12px;
            border: 2px solid rgba(20, 40, 20, 0.1);
            font-size: 1rem;
            background: white;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);
        }

        .calc-input-wrapper input:focus,
        .calc-input-wrapper select:focus {
            border-color: var(--leaf);
            outline: none;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
            transform: translateY(-1px);
        }

        .calc-input-wrapper input:invalid {
            border-color: #f44336;
        }

        .calc-hint {
            font-size: 0.85rem;
            color: #666;
            margin-top: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .field {
            display: flex;
            flex-direction: column;
            margin-bottom: 15px
        }

        label {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--cloud-navy)
        }

        input[type="number"],
        select {
            padding: 12px;
            border-radius: 10px;
            border: 1px solid rgba(20, 40, 20, 0.1);
            font-size: 1rem;
            background: white;
            transition: border-color 0.2s
        }

        input[type="number"]:focus,
        select:focus {
            border-color: var(--leaf);
            outline: none;
        }

        .result {
            background: linear-gradient(135deg, #e8fff5, #f8fff8);
            padding: 24px 20px;
            border-radius: 16px;
            border: 2px solid var(--leaf);
            margin-top: 12px;
            font-weight: 800;
            font-size: 1.3rem;
            color: var(--earth-green);
            text-align: center;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.15);
        }

        .result.has-value {
            animation: resultPulse 0.5s ease;
            transform: scale(1.02);
        }

        @keyframes resultPulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }
        }

        .result-placeholder {
            color: #999;
            font-weight: 500;
            font-size: 0.95rem;
        }

        .modal-bg {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            background: rgba(6, 10, 6, 0.6);
            z-index: 120
        }

        .modal {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            max-width: 850px;
            width: 92%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 40px 100px rgba(0, 0, 0, 0.5);
            transform: scale(0.9);
            transition: transform 0.3s ease;
            position: relative;
        }

        .modal.active {
            transform: scale(1)
        }

        .modal-close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0, 0, 0, 0.05);
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .modal-close-btn:hover {
            background: rgba(0, 0, 0, 0.1);
            transform: rotate(90deg);
        }

        /* Log Action Modal Styles */
        .log-action-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            font-weight: 600;
            color: var(--cloud-navy);
            font-size: 0.95rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 12px 16px;
            border-radius: 10px;
            border: 2px solid rgba(20, 40, 20, 0.1);
            font-size: 1rem;
            background: white;
            transition: all 0.3s;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: var(--leaf);
            outline: none;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .modal pre {
            background: #f4f7f4;
            padding: 15px;
            border-radius: 10px;
            white-space: pre-wrap;
            overflow-x: auto;
            border: 1px solid rgba(0, 0, 0, 0.05)
        }

        .modal h3 {
            color: var(--cloud-navy);
            margin-top: 0
        }


        .principle-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 20px;
            padding: 15px;
            border-left: 5px solid var(--earth-green);
            background: rgba(255, 255, 255, 0.5);
            border-radius: 4px;
        }

        .principle-item strong {
            color: var(--earth-green);
            display: block;
            margin-bottom: 5px;
        }

        .principle-content {
            padding-left: 15px;
        }

        /* ---------------------------
            TASK MANAGER STYLES (NEW)
        --------------------------- */
        .task-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            margin-top: 30px;
        }

        .task-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .task-card {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 18px 25px;
            border-left: 5px solid var(--earth-green);
            background: linear-gradient(90deg, #f0fff0, #ffffff);
            cursor: pointer;
            position: relative;
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .task-card:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }

        .task-card:active {
            transform: translateX(2px) scale(0.98);
        }

        .task-card.high-priority {
            border-left-color: #f44336;
            /* Red for high priority */
            background: linear-gradient(90deg, #fff0f0, #ffffff);
        }

        .task-card i {
            color: var(--earth-green);
        }

        .task-card.high-priority i {
            color: #f44336;
        }

        .task-card .content {
            flex-grow: 1;
        }

        .task-card h4 {
            margin: 0 0 4px 0;
            color: var(--cloud-navy);
            font-size: 1rem;
            font-weight: 700;
        }

        .task-card p {
            margin: 0;
            font-size: 0.85rem;
            opacity: 0.8;
        }

        .task-card .date {
            font-size: 0.9rem;
            font-weight: 600;
            color: #555;
            flex-shrink: 0;
        }

        .progress-box {
            background: white;
            padding: 30px;
            border-radius: var(--radius);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .progress-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--earth-green), var(--leaf));
        }

        .progress-circle {
            width: 150px;
            height: 150px;
            margin-bottom: 20px;
        }

        .progress-info strong {
            display: block;
            font-size: 1.5rem;
            color: var(--earth-green);
        }

        .progress-info p {
            margin: 5px 0 0 0;
            opacity: 0.9;
        }


        footer {
            margin-top: 30px;
            padding: 30px;
            text-align: center;
            color: #38503a;
            font-weight: 600;
            border-top: 1px solid rgba(0, 0, 0, 0.04)
        }

        footer a {
            color: #38503a;
            text-decoration: none;
            font-weight: 700;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* ---------------------------
            RESPONSIVE STYLES (ENHANCED)
        --------------------------- */
        @media (max-width:1024px) {

            /* ... (Unchanged responsive styles) ... */
            .hero {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .hero-illu {
                order: -1;
                max-height: 300px;
                margin: 0 auto 20px;
            }

            .stats {
                max-width: 100%;
                justify-content: center;
                flex-wrap: wrap;
            }

            .nav-links {
                gap: 15px
            }

            .grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px
            }

            .task-grid {
                grid-template-columns: 1fr;
                /* Stack on smaller screens */
            }
        }

        @media (max-width:768px) {

            /* ... (Unchanged responsive styles) ... */
            nav {
                padding: 12px 16px;
                margin: 10px auto 0;
                max-width: 95%;
                flex-wrap: nowrap;
                align-items: center;
                position: relative;
            }

            .logo {
                z-index: 101;
                flex: 1;
                font-size: 1.2rem;
            }

            .mobile-menu-toggle {
                display: flex !important;
                align-items: center;
                justify-content: center;
                z-index: 101;
                margin-left: auto;
            }

            .nav-menu {
                position: absolute;
                top: calc(100% + 10px);
                left: 0;
                right: 0;
                display: none;
                flex-direction: column;
                width: 100%;
                max-height: 0;
                overflow: hidden;
                background: white;
                border-radius: var(--radius);
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
                margin-top: 0;
                opacity: 0;
                transition: max-height 0.4s ease-out, opacity 0.3s ease, padding 0.3s ease;
                padding: 0;
            }

            .nav-menu.is-active {
                display: flex;
                opacity: 1;
                max-height: 80vh;
                overflow-y: auto;
                padding: 10px 0;
            }

            .nav-links {
                flex-direction: column;
                gap: 0;
                width: 100%;
                padding: 0;
                border-bottom: 1px solid #eee;
            }

            .nav-links a {
                padding: 16px 20px;
                text-align: left;
                border-radius: 0;
                width: 100%;
                display: block;
                border-left: 3px solid transparent;
                transition: all 0.2s;
            }

            .nav-links a:hover {
                background: rgba(76, 175, 80, 0.05);
                border-left-color: var(--earth-green);
                padding-left: 25px;
            }

            .nav-links a:hover::after {
                width: 0;
            }

            .controls {
                flex-direction: column;
                gap: 12px;
                padding: 15px 20px;
                width: 100%;
                align-items: stretch;
            }

            .role-dropdown {
                width: 100%;
            }

            .role-dropdown-btn {
                justify-content: center;
                width: 100%;
            }

            .dropdown-menu {
                position: static;
                width: 100%;
                opacity: 1;
                transform: none;
                box-shadow: none;
                border-top: 1px solid #eee;
                border-radius: 0;
                padding: 8px;
                margin-top: 8px;
            }

            .container {
                padding: 12px 16px;
            }

            .hero {
                grid-template-columns: 1fr;
                text-align: center;
                padding: 24px 20px;
                gap: 20px;
                margin: 20px auto;
            }

            .hero-illu {
                order: -1;
                max-height: 250px;
                margin: 0 auto;
            }

            .hero h1 {
                font-size: 2rem;
                line-height: 1.2;
            }

            .hero p {
                font-size: 1rem;
            }

            .ctas {
                justify-content: center;
                flex-wrap: wrap;
                gap: 12px;
            }

            .btn {
                padding: 12px 20px;
                font-size: 0.85rem;
            }

            .grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .stats {
                flex-direction: column;
                gap: 12px;
                max-width: 100%;
                width: 100%;
            }

            .stat {
                min-width: unset;
                width: 100%;
            }

            .calc .left,
            .calc .right {
                width: 100%;
            }

            .calc {
                flex-direction: column;
                gap: 20px;
            }

            .calc-input-group {
                width: 100%;
            }

            .task-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .task-card {
                padding: 16px 18px;
                gap: 12px;
                flex-wrap: wrap;
            }

            .task-card .date {
                font-size: 0.8rem;
                width: 100%;
                text-align: right;
                margin-top: 8px;
            }

            .progress-box {
                min-height: 250px;
                padding: 24px 20px;
            }

            .progress-circle {
                width: 120px;
                height: 120px;
            }

            .modal {
                padding: 24px 20px;
                width: 95%;
                max-height: 85vh;
                margin: 20px auto;
            }

            .result {
                font-size: 1.1rem;
                padding: 20px 16px;
                min-height: 70px;
            }

            .calc-input-wrapper input,
            .calc-input-wrapper select {
                padding: 14px 16px;
                font-size: 16px;
                /* Prevents zoom on iOS */
                width: 100%;
            }

            .section-wrap {
                padding: 30px 20px;
            }

            .card {
                padding: 20px;
            }

            .section-title h2 {
                font-size: 1.75rem;
            }

            .section-sub {
                font-size: 1rem;
            }
        }

        @media (max-width: 480px) {
            nav {
                padding: 10px 12px;
                margin: 8px auto 0;
            }

            .logo {
                font-size: 1.1rem;
            }

            .mobile-menu-toggle {
                width: 28px;
                height: 28px;
            }

            .hero h1 {
                font-size: 1.75rem;
                line-height: 1.15;
            }

            .hero {
                padding: 20px 16px;
                margin: 16px auto;
            }

            .hero p {
                font-size: 0.95rem;
            }

            .section-wrap {
                padding: 24px 16px;
            }

            .card {
                padding: 18px;
            }

            .section-title h2 {
                font-size: 1.5rem;
            }

            .section-sub {
                font-size: 0.95rem;
            }

            .task-card {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
                padding: 14px 16px;
            }

            .task-card .date {
                align-self: flex-end;
                font-size: 0.75rem;
            }

            .stats {
                gap: 10px;
            }

            .stat {
                padding: 12px 16px;
            }

            .btn {
                padding: 11px 18px;
                font-size: 0.8rem;
            }

            .container {
                padding: 10px 12px;
            }

            .modal {
                padding: 20px 16px;
                width: 98%;
            }

            .journey-timeline::before {
                left: 30px;
            }

            .journey-step {
                flex-direction: row !important;
                padding-left: 80px;
                margin-bottom: 25px;
            }

            .journey-step-content {
                max-width: 100%;
                margin-left: 20px;
                padding: 20px;
            }

            .journey-step-icon {
                position: absolute;
                left: 0;
                margin: 0;
                width: 60px;
                height: 60px;
            }

            .journey-step-number {
                width: 28px;
                height: 28px;
                font-size: 0.8rem;
            }

            .journey-step h3 {
                font-size: 1.2rem;
            }

            .journey-step p {
                font-size: 0.95rem;
            }

            .fpo-dashboard {
                grid-template-columns: 1fr;
            }

            .fpo-stat-value {
                font-size: 2rem;
            }

            .fpo-stat-card {
                padding: 20px;
            }
        }

        /* ---------------------------
    TRACEABILITY LEDGER STYLES
--------------------------- */
        .ledger-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin-top: 20px;
            font-size: 0.95rem;
            box-shadow: var(--card-shadow);
            /* Reuses your existing shadow */
            border-radius: var(--radius);
            overflow: hidden;
        }

        .ledger-table th {
            background-color: var(--cloud-navy);
            /* Dark, professional header */
            color: white;
            padding: 14px 15px;
            text-align: left;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .ledger-table td {
            padding: 12px 15px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            /* Light divider */
            background-color: var(--surface);
            /* Glassmorphism background */
            backdrop-filter: blur(5px);
            transition: background-color 0.3s;
        }

        .ledger-table tr:hover td {
            background-color: rgba(76, 175, 80, 0.05);
            /* Subtle green hover effect */
        }

        /* Class to highlight data (e.g., Credits) */
        .highlight-green {
            color: var(--earth-green);
            font-weight: 700;
        }

        /* Badge for Verified Status */
        .badge-verified {
            display: inline-flex;
            align-items: center;
            padding: 5px 10px;
            border-radius: 15px;
            background-color: rgba(76, 175, 80, 0.1);
            /* Light green background */
            color: var(--earth-green);
            font-size: 0.8rem;
        }

        .badge-verified i {
            width: 14px;
            height: 14px;
            margin-right: 6px;
        }

        .modal-content {
            background-color: #ffffff;
            /* Use solid white for maximum readability */
            /* Alternatively, if you want a slight tint, use a high opacity color: */
            /* background-color: rgba(255, 255, 255, 0.95); */

            margin: 10% auto;
            /* Center the box vertically */
            padding: 30px;
            border-radius: var(--radius);
            box-shadow: var(--card-shadow);
            width: 80%;
            /* Adjust width as needed */
            max-width: 900px;
        }

        .modal {
            display: none;
            /* Hide the modal by default */
            position: fixed;
            z-index: 1000;
            /* Ensure it is on top of everything */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
            /* Dark background overlay */
        }

        /* Styling for the chart card
        .card.wide-card {
            background-color: var(--surface);
            border: 1px solid var(--glass-border);
            padding: 25px;
            border-radius: var(--radius);
            box-shadow: var(--card-shadow);
            backdrop-filter: blur(5px);
        } */
        /* ---------------------------
    INVESTOR CHART STYLES (INTEGRATED)
--------------------------- */
        #investor-dashboard .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            margin-bottom: 30px;
            padding: 15px;
            background-color: #e9ecef;
            border-radius: 5px;
        }

        #investor-dashboard .control-group {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        #investor-dashboard .controls label {
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }

        #investor-dashboard .controls select,
        #investor-dashboard .controls button {
            padding: 10px 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
            background-color: #fff;
        }

        #investor-dashboard .controls select:focus,
        #investor-dashboard .controls button:focus {
            border-color: #007bff;
            outline: none;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        #investor-dashboard .controls button {
            background-color: #007bff;
            color: white;
            border: none;
            transition: background-color 0.2s ease-in-out;
        }

        #investor-dashboard .controls button:hover {
            background-color: #0056b3;
        }

        #investor-dashboard .graph-container {
            width: 100%;
            height: 400px;
            /* Fixed height for the chart */
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
        }

        #investor-dashboard .graph-container canvas {
            max-width: 100%;
            max-height: 100%;
        }

        #investor-tools .card {
            width: 100%;
            box-sizing: border-box;
        }

        #investor-tools .analysis-header {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 16px;
            margin-bottom: 20px;
        }

        /* --- FIXED & CLEANED KPI + ANALYSIS ALIGNMENT --- */
        #investor-tools .card {
            width: 100%;
            box-sizing: border-box;
        }

        #investor-tools .analysis-header {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 16px;
            margin-bottom: 20px;
        }

        /* Combined report controls */
        .report-controls-card {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            padding: 20px;
            margin-bottom: 25px;
            border-radius: var(--radius);
        }

        /* KPI GRID — fixed */
        .kpi-summary-grid {
            display: grid;
            /* <-- you missed this */
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
            align-items: stretch;
        }

        .kpi-card {
            display: flex;
            align-items: center;
            padding: 20px;
            min-height: 120px;
            /* better than fixed height */
            box-sizing: border-box;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s ease;
        }

        .kpi-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }

        .kpi-card i {
            margin-right: 15px;
            padding: 10px;
            border-radius: var(--radius);
            background-color: rgba(76, 175, 80, 0.1);
        }

        .kpi-content {
            flex-grow: 1;
        }

        .kpi-value {
            font-family: 'Poppins', sans-serif;
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--cloud-navy);
            line-height: 1.2;
            margin: 0 0 5px 0;
        }

        .kpi-label {
            font-size: 0.9rem;
            color: #6c757d;
            font-weight: 600;
            margin: 0;
        }

        /* Report select + buttons */
        .report-controls-bar {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .report-select-input {
            flex: 1;
            min-width: 180px;
            padding: 10px 15px;
            height: 44px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            font-size: 0.95rem;
            background-color: #fff;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='%231f2937'%3E%3Cpath fill-rule='evenodd' d='M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z' clip-rule='evenodd' /%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 16px;
        }

        .btn {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            height: 44px;
        }

        .btn i {
            width: 18px;
            height: 18px;
        }
    </style>
</head>

<body>
    <nav>
        <div class="logo">Rupiya<span style="color:var(--leaf)">.app</span></div>

        <i data-lucide="menu" class="mobile-menu-toggle" id="mobile-menu-toggle"></i>

        <div class="nav-menu" id="nav-menu">
            <div class="nav-links" id="nav-links-container">
                <!-- Farmer Links -->
                <a href="#home" class="nav-link-role" data-role="farmer" data-i18n="navHome">Home</a>
                <a href="#residue" class="nav-link-role" data-role="farmer" data-i18n="navResidue">Residue-Free</a>
                <a href="#tasks" class="nav-link-role" data-role="farmer" data-i18n="navTasks">Task Manager</a>
                <a href="#journey" class="nav-link-role" data-role="farmer" data-i18n="navJourney">Farmer Journey</a>
                <a href="#carbon" class="nav-link-role" data-role="farmer" data-i18n="navCarbon">Carbon Credits</a>
                <a href="#finance" class="nav-link-role" data-role="farmer" data-i18n="navFinance">Finance</a>

                <!-- FPO Links -->
                <a href="#home" class="nav-link-role" data-role="fpo" data-i18n="navHome">Home</a>
                <a href="#fpo-dashboard" class="nav-link-role" data-role="fpo" data-i18n="navFPODashboard">FPO
                    Dashboard</a>
                <a href="#fpo-members" class="nav-link-role" data-role="fpo" data-i18n="navFPOMembers">Member
                    Management</a>
                <a href="#fpo-procurement" class="nav-link-role" data-role="fpo" data-i18n="navFPOProcurement">Bulk
                    Procurement</a>
                <a href="#carbon" class="nav-link-role" data-role="fpo" data-i18n="navCarbon">Group Carbon Credits</a>

                <!-- Buyer Links -->
                <a href="#home" class="nav-link-role" data-role="buyer" data-i18n="navHome">Home</a>
                <a href="#buyer-catalog" class="nav-link-role" data-role="buyer" data-i18n="navBuyerCatalog">Product
                    Catalog</a>
                <a href="#buyer-traceability" class="nav-link-role" data-role="buyer"
                    data-i18n="navBuyerTraceability">Traceability</a>
                <a href="#buyer-procurement" class="nav-link-role" data-role="buyer"
                    data-i18n="navBuyerProcurement">Procurement</a>
                <a href="#buyer-certifications" class="nav-link-role" data-role="buyer"
                    data-i18n="navBuyerCertifications">Certifications</a>

                <!-- Investor Links -->
                <a href="#home" class="nav-link-role" data-role="investor" data-i18n="navHome">Home</a>
                <a href="#investor-dashboard" class="nav-link-role" data-role="investor"
                    data-i18n="navInvestorDashboard">Impact Dashboard</a>
                <a href="#investor-metrics" class="nav-link-role" data-role="investor"
                    data-i18n="navInvestorMetrics">ROI Metrics</a>
                <a href="#investor-portfolio" class="nav-link-role" data-role="investor"
                    data-i18n="navInvestorPortfolio">Portfolio</a>
                <a href="#investor-opportunities" class="nav-link-role" data-role="investor"
                    data-i18n="navInvestorOpportunities">Opportunities</a>

            </div>

            <div class="controls">
                <div class="role-dropdown" id="role-dropdown">
                    <button class="role-dropdown-btn" id="role-dropdown-btn">
                        <span data-i18n="pillFarmer">Farmers</span>
                        <i data-lucide="chevron-down"></i>
                    </button>
                    <div class="dropdown-menu" id="dropdown-menu">
                        <a class="dropdown-item active" data-audience="farmer" data-i18n="pillFarmer">Farmers</a>
                        <a class="dropdown-item" data-audience="fpo" data-i18n="pillFPO">FPOs</a>
                        <a class="dropdown-item" data-audience="buyer" data-i18n="pillBuyer">Buyers</a>
                        <a class="dropdown-item" data-audience="investor" data-i18n="pillInvestor">Investors</a>
                    </div>
                </div>

                <div class="lang-switch" aria-hidden="false">
                    <button id="lang-en" class="active">EN</button>
                    <button id="lang-hi">हिंदी</button>
                    <button id="lang-gu">ગુજરાતી</button>
                </div>
            </div>
        </div>
    </nav>

    <main class="container">
        <section class="hero" aria-labelledby="hero-title" id="home">
            <div>
                <h1 id="hero-title" data-i18n-html="heroTitle"><span class="accent">Where soil</span> meets <span
                        class="accent">satellite</span> — turn better farming into real income</h1>
                <p id="hero-sub"></p>
                <div class="ctas">
                    <button class="btn primary-cta" id="joinBtn"></button>
                    <button class="btn secondary" id="learnBtn" data-i18n="learnCredits">How Carbon Credits
                        Work</button>
                </div>

                <div class="stats" style="margin-top:25px">
                    <div class="stat reveal-item">
                        <div class="num" id="stat-farmers">50K+</div>
                        <div style="font-size:13px" data-i18n="statFarmers">Farmers (target)</div>
                    </div>
                    <div class="stat reveal-item">
                        <div class="num" id="stat-hectares">5L+</div>
                        <div style="font-size:13px" data-i18n="statHectares">Hectares (target)</div>
                    </div>
                    <div class="stat reveal-item">
                        <div class="num" id="stat-credit">₹800</div>
                        <div style="font-size:13px" data-i18n="statCredit">/verified credit</div>
                    </div>
                </div>
            </div>

            <div class="hero-illu" aria-hidden="true">
                <lottie-player src="https://assets3.lottiefiles.com/packages/lf20_r9flnrlk.json"
                    background="transparent" speed="1" loop autoplay>
                </lottie-player>
            </div>
        </section>

        <hr class="section-divider">

        <section id="residue" class="section-wrap" data-role="farmer" aria-labelledby="res-title">
            <div class="section-title">
                <h2 id="res-title" data-i18n="resTitle">Residue-Free Farming <i data-lucide="leaf"
                        style="color:var(--leaf);margin-top:4px"></i> — how it works</h2>
            </div>
            <p class="section-sub" data-i18n="resSub">Satellite soil testing → AI monitoring → Expert advisory →
                Residue-free inputs → Buy-back</p>

            <div style="display:flex;gap:24px;flex-wrap:wrap;margin-top:25px">
                <div class="svg-box card" style="flex:1 1 540px">
                    <h3 style="margin-top:0;color:var(--earth-green)" data-i18n="resDiagramTitle">Soil → Satellite →
                        Proof (interactive)</h3>
                    <svg id="res-svg" viewBox="0 0 700 220" width="100%" height="220" role="img"
                        aria-label="Soil layers diagram">
                        <style>
                            .layer {
                                cursor: pointer;
                                transition: all .24s;
                                opacity: 0.8
                            }

                            .layer:hover {
                                opacity: 1;
                                stroke: var(--earth-green);
                                stroke-width: 2;
                            }
                        </style>
                        <rect id="l1" x="20" y="120" width="660" height="70" fill="#a0522d" class="layer" rx="8" />
                        <text x="60" y="160" fill="#fff" font-weight="700" data-i18n="resLayer1">Soil Organic Layer
                            (Carbon Storage)</text>
                        <rect id="l2" x="20" y="80" width="660" height="36" fill="#c09a72" class="layer" rx="8" />
                        <text x="60" y="104" fill="#1f2937" font-weight="700" data-i18n="resLayer2">Root Zone &
                            Microbial Activity</text>
                        <rect id="l3" x="20" y="16" width="660" height="56" rx="8" fill="#dff3ff" class="layer"
                            rx="8" />
                        <text x="60" y="50" fill="#06345a" font-weight="700" data-i18n="resLayer3">Satellite Imagery &
                            AI Analytics (Verification)</text>
                    </svg>
                    <div id="res-tooltip" class="tooltip" style="display:none;margin-top:12px"></div>
                </div>

                <div style="flex:0 0 360px">
                    <h3 data-i18n="keyServicesTitle" class="reveal-item">Key services</h3>
                    <div class="card" style="margin-bottom:15px">
                        <i data-lucide="cpu" class="icon-sm"></i>
                        <div><strong data-i18n="service1Title">AI Soil Analytics</strong>
                            <div style="font-size:14px;color:var(--text);opacity:0.8" data-i18n="service1Desc">Satellite
                                + local sensors → actionable scores</div>
                        </div>
                    </div>
                    <div class="card" style="margin-bottom:15px">
                        <i data-lucide="user-check" class="icon-sm"></i>
                        <div><strong data-i18n="service2Title">Agronomy Support</strong>
                            <div style="font-size:14px;color:var(--text);opacity:0.8" data-i18n="service2Desc">On-field
                                experts + mobile guidance for implementation</div>
                        </div>
                    </div>
                    <div class="card">
                        <i data-lucide="truck" class="icon-sm"></i>
                        <div><strong data-i18n="service3Title">Farm-Gate Buy-back</strong>
                            <div style="font-size:14px;color:var(--text);opacity:0.8" data-i18n="service3Desc">Direct
                                procurement removes middlemen, ensures fair price</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <hr class="section-divider">


        <section id="tasks" class="section-wrap" data-role="farmer" aria-labelledby="tasks-title">


            <div class="section-title">
                <h2 id="tasks-title" data-i18n="tasksTitle">AI-Driven Task Manager <i data-lucide="check-square"
                        style="color:var(--leaf);margin-top:4px"></i></h2>
            </div>
            <p class="section-sub" data-i18n="tasksSub">Actionable guidance generated from satellite data, weather, and
                soil health scores.</p>

            <div class="task-grid">
                <div class="card" style="padding:15px;flex-direction: column;">
                    <h3 style="margin:10px 0; font-size: 1.15rem; color:var(--earth-green)" data-i18n="taskListTitle">
                        Upcoming Actions (Field 1)</h3>
                    <div class="task-list" id="taskList">
                    </div>
                </div>

                <div class="card progress-box">
                    <lottie-player class="progress-circle" id="progressAnimation"
                        src="https://assets7.lottiefiles.com/packages/lf20_m2ig5zds.json" speed="1"
                        style="width:150px;height:150px" loop autoplay></lottie-player>
                    <div class="progress-info">
                        <strong id="progressPercent">75%</strong>
                        <p data-i18n="progressLabel">Compliance Score for Carbon Verification</p>
                    </div>
                    <button class="btn secondary" id="logActionBtn"
                        style="margin-top:20px; font-size: 0.8rem; padding: 10px 15px;" data-i18n="logAction">Log New
                        Action/Input</button>
                </div>
            </div>
        </section>
        <!-- Log Action Modal (Required for the button to work) -->
        <div id="logActionModal" class="modal-overlay" style="display:none;">
            <div class="modal">
                <h3>Log New Action / Input</h3>

                <form id="logActionForm">
                    <label>Action Type</label>
                    <select id="actionType">
                        <option value="fertilizer">Fertilizer</option>
                        <option value="irrigation">Irrigation</option>
                        <option value="pesticide">Pesticide</option>
                        <option value="harvest">Harvest</option>
                        <option value="other">Other</option>
                    </select>

                    <label>Date</label>
                    <input type="date" id="actionDate">

                    <label>Field</label>
                    <input type="text" id="actionField">

                    <label>Details</label>
                    <textarea id="actionDetails"></textarea>

                    <button type="submit">Save</button>
                    <button type="button" onclick="closeLogAction()">Cancel</button>
                </form>
            </div>
        </div>


        <hr class="section-divider">

        <section id="carbon" class="section-wrap" data-role="farmer,fpo" aria-labelledby="carbon-title">
            <div class="section-title">
                <h2 id="carbon-title" data-i18n="carbonTitle">Carbon Credits <i data-lucide="cloud-lightning"
                        style="color:var(--leaf);margin-top:4px"></i> — simple & farmer-friendly</h2>
            </div>
            <p class="section-sub" data-i18n="carbonSub">How soil carbon increases and how farmers earn ₹800 per
                verified credit</p>

            <div style="display:flex;gap:24px;align-items:flex-start;flex-wrap:wrap;margin-top:25px">
                <div style="flex:1 1 520px">
                    <div class="card">
                        <h3 data-i18n="creditWhatTitle">What is a carbon credit?</h3>
                        <p style="margin-top:8px" data-i18n-html="creditWhatDesc">A verified unit representing stored
                            $\text{CO}_2$. Regenerative practices increase **Soil Organic Carbon (SOC)** which is
                            verified using $\text{AI}$ and converted into marketable credits.</p>
                    </div>
                    <div class="card" style="margin-top:18px">
                        <h3 data-i18n="creditEarnTitle">How it earns ₹800</h3>
                        <p style="margin-top:8px" data-i18n-html="creditEarnDesc">Each verified credit pays the farmer
                            approximately **₹800**. Verification is conducted through independent, certified partners
                            (e.g., Carboneg) using digital traceability for transparency.</p>
                    </div>
                    <div class="card" style="margin-top:18px">
                        <h3 data-i18n="targetTitle">Target & Scalability</h3>
                        <p style="margin-top:8px" data-i18n-html="targetDesc">Our goal is to onboard **50,000+ farmers**
                            across **5,00,000 hectares** in 3 years—providing essential training and continuous field
                            support.</p>
                    </div>
                </div>

                <div style="width:360px">
                    <div class="card">
                        <h3 data-i18n="calcTitle">Farmer Income Calculator</h3>
                        <div class="calc">
                            <div class="left">
                                <div class="calc-input-group">
                                    <label id="label-area" data-i18n="labelArea">Area (hectares)</label>
                                    <div class="calc-input-wrapper">
                                        <input id="area" type="number" min="0" step="0.1" placeholder="e.g. 1.5"
                                            required>
                                    </div>
                                    <div class="calc-hint">
                                        <i data-lucide="info" style="width:14px;height:14px"></i>
                                        <span>Enter your farm area</span>
                                    </div>
                                </div>
                                <div class="calc-input-group">
                                    <label id="label-practice" data-i18n="labelPractice">Practice factor (0.1 -
                                        1)</label>
                                    <div class="calc-input-wrapper">
                                        <select id="practice">
                                            <option value="0.2" data-i18n="optMinimal">Minimal regenerative (0.2)
                                            </option>
                                            <option value="0.5" selected data-i18n="optGood">Good practice (0.5)
                                            </option>
                                            <option value="0.8" data-i18n="optAdvanced">Advanced (0.8)</option>
                                        </select>
                                    </div>
                                    <div class="calc-hint">
                                        <i data-lucide="trending-up" style="width:14px;height:14px"></i>
                                        <span>Higher factor = more credits</span>
                                    </div>
                                </div>
                                <div style="font-size:13px;color:var(--text);opacity:0.8;margin-top:10px;padding:12px;background:rgba(76,175,80,0.05);border-radius:8px"
                                    data-i18n="calcAssumption">Assumption: 1 credit $\approx$ 1 tonne $\text{CO}_2$
                                    sequestered; ₹800/credit</div>
                            </div>
                            <div class="right">
                                <div class="result" id="calcResult" aria-live="polite">
                                    <span class="result-placeholder" data-i18n="calcPlaceholder">Enter area & practice
                                        to estimate</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="margin-top:18px" class="card">
                        <h3 style="margin-top:0" data-i18n="transparencyTitle">Supply Chain Transparency</h3>
                        <p data-i18n="transparencyDesc">View the digital ledger (mock) of a verified batch.</p>
                        <button class="btn secondary" id="traceBtn" style="width:100%" data-i18n="traceBtn">Show
                            Traceability Demo</button>
                    </div>
                </div>
            </div>
        </section>

        <hr class="section-divider">
        <section id="features-buyer" class="section-wrap" data-role="buyer">
            <div class="container">

                <div class="card wide-card show">
                    <h3 data-i18n="traceabilityTitle">Product Traceability</h3>
                    <p data-i18n="traceabilitySub">Track our residue-free produce back to the farm and view verified
                        carbon credits.</p>

                    <button id="traceabilityDemoBtn" class="btn btn-secondary" data-i18n="traceabilityBtn">View Demo
                        Ledger</button>
                </div>

            </div>
        </section>

        <hr class="section-divider">

        <!-- Step-by-Step Farmer Journey UI -->
        <section id="journey" class="section-wrap" data-role="farmer" aria-labelledby="journey-title">
            <div class="section-title">
                <h2 id="journey-title" class="accessible-heading" data-i18n="journeyTitle">Your Journey to Carbon
                    Credits <i data-lucide="map" style="color:var(--leaf);margin-top:4px"></i></h2>
            </div>
            <p class="section-sub accessible-text" data-i18n="journeySub">Simple steps from registration to earning
                carbon credits</p>

            <div class="journey-container">
                <div class="journey-timeline">
                    <div class="journey-step">
                        <div class="journey-step-content">
                            <div class="journey-step-number">1</div>
                            <h3 data-i18n="journeyStep1Title">Registration & Field Mapping</h3>
                            <p class="accessible-text" data-i18n="journeyStep1Desc">Sign up with your mobile number, add
                                your farm details, and map your fields using GPS or satellite imagery. Our team verifies
                                your information.</p>
                        </div>
                        <div class="journey-step-icon">
                            <i data-lucide="user-plus" style="width:40px;height:40px"></i>
                        </div>
                    </div>

                    <div class="journey-step">
                        <div class="journey-step-content">
                            <div class="journey-step-number">2</div>
                            <h3 data-i18n="journeyStep2Title">Soil Testing & Analysis</h3>
                            <p class="accessible-text" data-i18n="journeyStep2Desc">Satellite-based soil testing
                                analyzes your field's organic carbon levels. AI processes the data to create your
                                baseline soil health score.</p>
                        </div>
                        <div class="journey-step-icon">
                            <i data-lucide="flask-conical" style="width:40px;height:40px"></i>
                        </div>
                    </div>

                    <div class="journey-step">
                        <div class="journey-step-content">
                            <div class="journey-step-number">3</div>
                            <h3 data-i18n="journeyStep3Title">AI Recommendations</h3>
                            <p class="accessible-text" data-i18n="journeyStep3Desc">Receive personalized recommendations
                                for regenerative practices: organic inputs, crop rotation, cover crops, and residue
                                management tailored to your field.</p>
                        </div>
                        <div class="journey-step-icon">
                            <i data-lucide="brain" style="width:40px;height:40px"></i>
                        </div>
                    </div>

                    <div class="journey-step">
                        <div class="journey-step-content">
                            <div class="journey-step-number">4</div>
                            <h3 data-i18n="journeyStep4Title">Implementation Support</h3>
                            <p class="accessible-text" data-i18n="journeyStep4Desc">Get on-field support from
                                agronomists, access to quality inputs, and step-by-step mobile guidance. Log your
                                activities through the app.</p>
                        </div>
                        <div class="journey-step-icon">
                            <i data-lucide="handshake" style="width:40px;height:40px"></i>
                        </div>
                    </div>

                    <div class="journey-step">
                        <div class="journey-step-content">
                            <div class="journey-step-number">5</div>
                            <h3 data-i18n="journeyStep5Title">Monitoring & Verification</h3>
                            <p class="accessible-text" data-i18n="journeyStep5Desc">Satellite monitoring tracks your
                                progress. AI verifies your practices match recommendations. Regular compliance scores
                                show your carbon credit potential.</p>
                        </div>
                        <div class="journey-step-icon">
                            <i data-lucide="satellite" style="width:40px;height:40px"></i>
                        </div>
                    </div>

                    <div class="journey-step">
                        <div class="journey-step-content">
                            <div class="journey-step-number">6</div>
                            <h3 data-i18n="journeyStep6Title">Carbon Credit Generation</h3>
                            <p class="accessible-text" data-i18n="journeyStep6Desc">After 12-18 months of verified
                                practices, your increased soil organic carbon is converted into verified carbon credits
                                by certified partners.</p>
                        </div>
                        <div class="journey-step-icon">
                            <i data-lucide="leaf" style="width:40px;height:40px"></i>
                        </div>
                    </div>

                    <div class="journey-step">
                        <div class="journey-step-content">
                            <div class="journey-step-number">7</div>
                            <h3 data-i18n="journeyStep7Title">Payment & Rewards</h3>
                            <p class="accessible-text" data-i18n="journeyStep7Desc">Receive ₹800 per verified credit
                                directly to your bank account within 30 days. Track your earnings and access additional
                                financial services.</p>
                        </div>
                        <div class="journey-step-icon">
                            <i data-lucide="wallet" style="width:40px;height:40px"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- FPO Partnership Dashboard UI -->
        <section id="fpo-dashboard" class="section-wrap" data-role="fpo" aria-labelledby="fpo-title"
            style="display: none;">
            <div class="section-title">
                <h2 id="fpo-title" class="accessible-heading" data-i18n="fpoTitle">FPO Partnership Dashboard <i
                        data-lucide="users" style="color:var(--leaf);margin-top:4px"></i></h2>
            </div>
            <p class="section-sub accessible-text" data-i18n="fpoSub">Manage your member farmers, track group
                performance, and maximize collective carbon credit earnings</p>

            <div class="fpo-dashboard">
                <div class="fpo-stat-card">
                    <i data-lucide="users" class="fpo-stat-icon"></i>
                    <div class="fpo-stat-value" id="fpo-member-count">1,247</div>
                    <div class="fpo-stat-label" data-i18n="fpoStat1Label">Active Member Farmers</div>
                    <div class="fpo-stat-desc" data-i18n="fpoStat1Desc">Across 15 villages</div>
                </div>

                <div class="fpo-stat-card">
                    <i data-lucide="trending-up" class="fpo-stat-icon"></i>
                    <div class="fpo-stat-value">₹2.4L</div>
                    <div class="fpo-stat-label" data-i18n="fpoStat2Label">Total Carbon Revenue</div>
                    <div class="fpo-stat-desc" data-i18n="fpoStat2Desc">This quarter</div>
                </div>

                <div class="fpo-stat-card">
                    <i data-lucide="check-circle" class="fpo-stat-icon"></i>
                    <div class="fpo-stat-value">3,120</div>
                    <div class="fpo-stat-label" data-i18n="fpoStat3Label">Verified Credits</div>
                    <div class="fpo-stat-desc" data-i18n="fpoStat3Desc">Generated this year</div>
                </div>

                <div class="fpo-stat-card">
                    <i data-lucide="map-pin" class="fpo-stat-icon"></i>
                    <div class="fpo-stat-value">2,850</div>
                    <div class="fpo-stat-label" data-i18n="fpoStat4Label">Hectares Monitored</div>
                    <div class="fpo-stat-desc" data-i18n="fpoStat4Desc">Under FPO management</div>
                </div>

                <div class="fpo-stat-card">
                    <i data-lucide="truck" class="fpo-stat-icon"></i>
                    <div class="fpo-stat-value">₹18.5L</div>
                    <div class="fpo-stat-label" data-i18n="fpoStat5Label">Bulk Procurement Value</div>
                    <div class="fpo-stat-desc" data-i18n="fpoStat5Desc">Residue-free produce</div>
                </div>

                <div class="fpo-stat-card">
                    <i data-lucide="award" class="fpo-stat-icon"></i>
                    <div class="fpo-stat-value">87%</div>
                    <div class="fpo-stat-label" data-i18n="fpoStat6Label">Compliance Score</div>
                    <div class="fpo-stat-desc" data-i18n="fpoStat6Desc">Group average</div>
                </div>

                <div class="fpo-chart-container">
                    <h3 style="margin-top:0;color:var(--cloud-navy)" data-i18n="fpoChartTitle">Member Growth & Carbon
                        Credits Over Time</h3>
                    <div
                        style="height:300px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#f0fff0,#ffffff);border-radius:12px;margin-top:20px">
                        <div style="text-align:center;color:#666">
                            <i data-lucide="bar-chart-3"
                                style="width:64px;height:64px;margin:0 auto 16px;opacity:0.3"></i>
                            <p style="font-size:1.1rem" data-i18n="fpoChartPlaceholder">Interactive chart showing member
                                growth and carbon credit generation trends</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- FPO Member Management -->
        <section id="fpo-members" class="section-wrap" data-role="fpo" style="display: none;"
            aria-labelledby="fpo-members-title">
            <div class="section-title">
                <h2 id="fpo-members-title" class="accessible-heading" data-i18n="fpoMembersTitle">Member Management <i
                        data-lucide="users" style="color:var(--leaf);margin-top:4px"></i></h2>
            </div>
            <p class="section-sub accessible-text" data-i18n="fpoMembersSub">Track and manage your FPO member farmers,
                their fields, and compliance status</p>

            <div class="fpo-dashboard" style="margin-top:30px">
                <div class="fpo-stat-card">
                    <i data-lucide="user-check" class="fpo-stat-icon"></i>
                    <div class="fpo-stat-value">892</div>
                    <div class="fpo-stat-label" data-i18n="fpoMembersActive">Active Members</div>
                    <div class="fpo-stat-desc" data-i18n="fpoMembersActiveDesc">Compliant with practices</div>
                </div>

                <div class="fpo-stat-card">
                    <i data-lucide="map-pin" class="fpo-stat-icon"></i>
                    <div class="fpo-stat-value">1,240</div>
                    <div class="fpo-stat-label" data-i18n="fpoMembersFields">Total Fields</div>
                    <div class="fpo-stat-desc" data-i18n="fpoMembersFieldsDesc">Under monitoring</div>
                </div>

                <div class="fpo-stat-card">
                    <i data-lucide="trending-up" class="fpo-stat-icon"></i>
                    <div class="fpo-stat-value">94%</div>
                    <div class="fpo-stat-label" data-i18n="fpoMembersCompliance">Average Compliance</div>
                    <div class="fpo-stat-desc" data-i18n="fpoMembersComplianceDesc">This quarter</div>
                </div>

                <div class="fpo-stat-card">
                    <i data-lucide="calendar" class="fpo-stat-icon"></i>
                    <div class="fpo-stat-value">24</div>
                    <div class="fpo-stat-label" data-i18n="fpoMembersTraining">Training Sessions</div>
                    <div class="fpo-stat-desc" data-i18n="fpoMembersTrainingDesc">Scheduled this month</div>
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- FPO Bulk Procurement -->
        <section id="fpo-procurement" class="section-wrap" data-role="fpo" style="display: none;"
            aria-labelledby="fpo-procurement-title">
            <div class="section-title">
                <h2 id="fpo-procurement-title" class="accessible-heading" data-i18n="fpoProcurementTitle">Bulk
                    Procurement <i data-lucide="truck" style="color:var(--leaf);margin-top:4px"></i></h2>
            </div>
            <p class="section-sub accessible-text" data-i18n="fpoProcurementSub">Manage bulk procurement of residue-free
                produce from member farmers</p>

            <div class="grid" style="margin-top:30px">
                <div class="card">
                    <i data-lucide="package" class="icon-lg"></i>
                    <h3 data-i18n="fpoProcurement1Title">Aggregation Hub</h3>
                    <p data-i18n="fpoProcurement1Desc">Central collection point for member produce with quality checks
                        and sorting facilities.</p>
                </div>
                <div class="card">
                    <i data-lucide="scale" class="icon-lg"></i>
                    <h3 data-i18n="fpoProcurement2Title">Quality Assurance</h3>
                    <p data-i18n="fpoProcurement2Desc">Automated quality testing and certification before bulk sale to
                        buyers.</p>
                </div>
                <div class="card">
                    <i data-lucide="dollar-sign" class="icon-lg"></i>
                    <h3 data-i18n="fpoProcurement3Title">Fair Pricing</h3>
                    <p data-i18n="fpoProcurement3Desc">Transparent pricing model ensuring fair returns to all member
                        farmers.</p>
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- Buyer Product Catalog -->
        <section id="buyer-catalog" class="section-wrap" data-role="buyer" style="display: none;"
            aria-labelledby="buyer-catalog-title">
            <div class="section-title">
                <h2 id="buyer-catalog-title" class="accessible-heading" data-i18n="buyerCatalogTitle">Residue-Free
                    Product Catalog <i data-lucide="shopping-cart" style="color:var(--leaf);margin-top:4px"></i></h2>
            </div>
            <p class="section-sub accessible-text" data-i18n="buyerCatalogSub">Browse verified residue-free produce with
                complete traceability</p>

            <div class="buyer-catalog">
                <div class="product-card">
                    <div class="product-badge" data-i18n="productBadgeCertified">Certified</div>
                    <div class="product-image">
                        <i data-lucide="wheat"></i>
                    </div>
                    <h3 style="margin:12px 0 8px;color:var(--cloud-navy)" data-i18n="product1Name">Organic Wheat</h3>
                    <p style="margin:0 0 12px;color:#666;font-size:0.9rem" data-i18n="product1Desc">Premium quality,
                        residue-free wheat from verified farms</p>
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-top:16px">
                        <span style="font-weight:700;color:var(--earth-green);font-size:1.2rem"
                            data-i18n="product1Price">₹2,800/quintal</span>
                        <button class="btn" style="padding:8px 16px;font-size:0.85rem"
                            data-i18n="productViewDetails">View Details</button>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-badge" data-i18n="productBadgeCertified">Certified</div>
                    <div class="product-image">
                        <i data-lucide="sprout"></i>
                    </div>
                    <h3 style="margin:12px 0 8px;color:var(--cloud-navy)" data-i18n="product2Name">Organic Cotton</h3>
                    <p style="margin:0 0 12px;color:#666;font-size:0.9rem" data-i18n="product2Desc">Traceable organic
                        cotton with carbon credit certification</p>
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-top:16px">
                        <span style="font-weight:700;color:var(--earth-green);font-size:1.2rem"
                            data-i18n="product2Price">₹6,500/quintal</span>
                        <button class="btn" style="padding:8px 16px;font-size:0.85rem"
                            data-i18n="productViewDetails">View Details</button>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-badge" data-i18n="productBadgeCertified">Certified</div>
                    <div class="product-image">
                        <i data-lucide="carrot"></i>
                    </div>
                    <h3 style="margin:12px 0 8px;color:var(--cloud-navy)" data-i18n="product3Name">Organic Vegetables
                    </h3>
                    <p style="margin:0 0 12px;color:#666;font-size:0.9rem" data-i18n="product3Desc">Fresh, residue-free
                        vegetables from verified farms</p>
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-top:16px">
                        <span style="font-weight:700;color:var(--earth-green);font-size:1.2rem"
                            data-i18n="product3Price">₹45/kg</span>
                        <button class="btn" style="padding:8px 16px;font-size:0.85rem"
                            data-i18n="productViewDetails">View Details</button>
                    </div>
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- Buyer Traceability Flow -->
        <section id="buyer-traceability" class="section-wrap" data-role="buyer" style="display: none;"
            aria-labelledby="buyer-traceability-title">
            <div class="section-title">
                <h2 id="buyer-traceability-title" class="accessible-heading" data-i18n="buyerTraceabilityTitle">Complete
                    Traceability Flow <i data-lucide="route" style="color:var(--leaf);margin-top:4px"></i></h2>
            </div>
            <p class="section-sub accessible-text" data-i18n="buyerTraceabilitySub">Track your produce from farm to your
                facility with complete transparency</p>

            <div class="traceability-flow">

                <div class="flow-step">
                    <div class="flow-icon">
                        <i data-lucide="tractor" style="width:40px;height:40px"></i>
                    </div>
                    <h3 style="margin:12px 0 8px;color:var(--cloud-navy)" data-i18n="flowStep1Title">Farm Origin</h3>
                    <p style="margin:0;color:#666;font-size:0.95rem" data-i18n="flowStep1Desc">Verified farm location,
                        soil health, and farming practices</p>
                </div>

                <div class="flow-step">
                    <div class="flow-icon">
                        <i data-lucide="package" style="width:40px;height:40px"></i>
                    </div>
                    <h3 style="margin:12px 0 8px;color:var(--cloud-navy)" data-i18n="flowStep2Title">Harvest &
                        Collection</h3>
                    <p style="margin:0;color:#666;font-size:0.95rem" data-i18n="flowStep2Desc">Timestamped harvest with
                        GPS coordinates and quality checks</p>
                </div>

                <div class="flow-step">
                    <div class="flow-icon">
                        <i data-lucide="factory" style="width:40px;height:40px"></i>
                    </div>
                    <h3 style="margin:12px 0 8px;color:var(--cloud-navy)" data-i18n="flowStep3Title">Processing</h3>
                    <p style="margin:0;color:#666;font-size:0.95rem" data-i18n="flowStep3Desc">Certified processing
                        facilities with quality control</p>
                </div>

                <div class="flow-step">
                    <div class="flow-icon">
                        <i data-lucide="truck" style="width:40px;height:40px"></i>
                    </div>
                    <h3 style="margin:12px 0 8px;color:var(--cloud-navy)" data-i18n="flowStep4Title">Distribution</h3>
                    <p style="margin:0;color:#666;font-size:0.95rem" data-i18n="flowStep4Desc">Real-time tracking during
                        transportation to your facility</p>
                </div>

                <div class="flow-step">
                    <div class="flow-icon">
                        <i data-lucide="check-circle" style="width:40px;height:40px"></i>
                    </div>
                    <h3 style="margin:12px 0 8px;color:var(--cloud-navy)" data-i18n="flowStep5Title">Delivery</h3>
                    <p style="margin:0;color:#666;font-size:0.95rem" data-i18n="flowStep5Desc">Final delivery with
                        complete documentation and certificates</p>
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- Buyer Procurement -->
        <section id="buyer-procurement" class="section-wrap" data-role="buyer" style="display: none;"
            aria-labelledby="buyer-procurement-title">
            <div class="section-title">
                <h2 id="buyer-procurement-title" class="accessible-heading" data-i18n="buyerProcurementTitle">
                    Procurement Portal <i data-lucide="shopping-bag" style="color:var(--leaf);margin-top:4px"></i></h2>
            </div>
            <p class="section-sub accessible-text" data-i18n="buyerProcurementSub">Place orders, track deliveries, and
                manage your procurement pipeline</p>

            <div class="grid" style="margin-top:30px">
                <div class="card">
                    <i data-lucide="file-text" class="icon-lg"></i>
                    <h3 data-i18n="buyerProcurement1Title">Order Management</h3>
                    <p data-i18n="buyerProcurement1Desc">Create and track bulk orders with automated inventory
                        management.</p>
                </div>
                <div class="card">
                    <i data-lucide="calendar" class="icon-lg"></i>
                    <h3 data-i18n="buyerProcurement2Title">Delivery Scheduling</h3>
                    <p data-i18n="buyerProcurement2Desc">Schedule deliveries based on your production calendar and
                        storage capacity.</p>
                </div>
                <div class="card">
                    <i data-lucide="file-check" class="icon-lg"></i>
                    <h3 data-i18n="buyerProcurement3Title">Quality Reports</h3>
                    <p data-i18n="buyerProcurement3Desc">Access detailed quality reports and certificates for each
                        batch.</p>
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- Buyer Certifications -->
        <section id="buyer-certifications" class="section-wrap" data-role="buyer" style="display: none;"
            aria-labelledby="buyer-certifications-title">
            <div class="section-title">
                <h2 id="buyer-certifications-title" class="accessible-heading" data-i18n="buyerCertificationsTitle">
                    Quality Certifications <i data-lucide="award" style="color:var(--leaf);margin-top:4px"></i></h2>
            </div>
            <p class="section-sub accessible-text" data-i18n="buyerCertificationsSub">Verified certifications for all
                your procured produce</p>

            <div class="grid" style="margin-top:30px">
                <div class="card">
                    <i data-lucide="shield-check" class="icon-lg"></i>
                    <h3 data-i18n="buyerCert1Title">Residue-Free Certification</h3>
                    <p data-i18n="buyerCert1Desc">Verified zero pesticide residue through lab testing and satellite
                        monitoring.</p>
                </div>
                <div class="card">
                    <i data-lucide="leaf" class="icon-lg"></i>
                    <h3 data-i18n="buyerCert2Title">Organic Certification</h3>
                    <p data-i18n="buyerCert2Desc">Certified organic produce meeting international organic standards.</p>
                </div>
                <div class="card">
                    <i data-lucide="cloud" class="icon-lg"></i>
                    <h3 data-i18n="buyerCert3Title">Carbon Credit Verified</h3>
                    <p data-i18n="buyerCert3Desc">Produce from farms with verified carbon credit generation.</p>
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- Investor Impact Dashboard -->
        <section id="investor-dashboard" class="section-wrap" data-role="investor" style="display: none;"
            aria-labelledby="investor-dashboard-title">
            <div class="section-title">
                <h2 id="investor-dashboard-title" class="accessible-heading" data-i18n="investorDashboardTitle">Impact
                    Dashboard <i data-lucide="trending-up" style="color:var(--leaf);margin-top:4px"></i></h2>
            </div>
            <p class="section-sub accessible-text" data-i18n="investorDashboardSub">Track environmental and financial
                impact of your investments</p>
            <div class="card wide-card show" style="margin-bottom: 30px;">
                <h3 style="margin-bottom: 15px; color: var(--cloud-navy);">Cumulative Impact Over Time</h3>

                <div class="controls">
                    <div class="control-group">
                        <label for="data-series">Select Data Series:</label>
                        <select id="data-series">
                            <option value="financial_growth">Financial Growth vs. Investment (Risk/Return)</option>
                            <option value="environmental_impact" selected>Environmental Impact (ESG Metrics)</option>
                            <option value="farmer_onboarding">Farmer Profile Distribution (Scalability)</option>
                        </select>
                    </div>

                    <div class="control-group">
                        <label for="graph-type-select">Select Graph Type:</label>
                        <select id="graph-type-select">
                            <option value="bar">Bar Chart (Comparison)</option>
                            <option value="line">Line Chart (Trend)</option>
                            <option value="pie">Pie Chart (Distribution)</option>
                        </select>
                    </div>

                    <button id="generate-graph">Analyze Data</button>
                </div>

                <div class="graph-container">
                    <canvas id="investorChartCanvas"></canvas>
                </div>
            </div>
            </div>

            <div class="investor-dashboard">
                <div class="investor-metric-card">
                    <div class="metric-header">
                        <div class="metric-icon">
                            <i data-lucide="users" style="width:28px;height:28px"></i>
                        </div>
                    </div>
                    <div class="metric-value">12,450</div>
                    <div class="metric-label" data-i18n="investorMetric1Label">Farmers Impacted</div>
                    <div class="metric-change" data-i18n="investorMetric1Change">+15% this quarter</div>
                </div>

                <div class="investor-metric-card">
                    <div class="metric-header">
                        <div class="metric-icon">
                            <i data-lucide="cloud" style="width:28px;height:28px"></i>
                        </div>
                    </div>
                    <div class="metric-value">8,240</div>
                    <div class="metric-label" data-i18n="investorMetric2Label">Tonnes CO₂ Sequestered</div>
                    <div class="metric-change" data-i18n="investorMetric2Change">+22% this quarter</div>
                </div>

                <div class="investor-metric-card">
                    <div class="metric-header">
                        <div class="metric-icon">
                            <i data-lucide="dollar-sign" style="width:28px;height:28px"></i>
                        </div>
                    </div>
                    <div class="metric-value">₹6.5Cr</div>
                    <div class="metric-label" data-i18n="investorMetric3Label">Total Investment</div>
                    <div class="metric-change" data-i18n="investorMetric3Change">ROI: 18.5%</div>
                </div>

                <div class="investor-metric-card">
                    <div class="metric-header">
                        <div class="metric-icon">
                            <i data-lucide="map-pin" style="width:28px;height:28px"></i>
                        </div>
                    </div>
                    <div class="metric-value">45,200</div>
                    <div class="metric-label" data-i18n="investorMetric4Label">Hectares Under Management</div>
                    <div class="metric-change" data-i18n="investorMetric4Change">+8% expansion</div>
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- Investor ROI Metrics -->
        <section id="investor-metrics" class="section-wrap" data-role="investor" style="display: none;"
            aria-labelledby="investor-metrics-title">
            <div class="section-title">
                <h2 id="investor-metrics-title" class="accessible-heading" data-i18n="investorMetricsTitle">ROI &
                    Financial Metrics <i data-lucide="bar-chart-3" style="color:var(--leaf);margin-top:4px"></i></h2>
            </div>
            <p class="section-sub accessible-text" data-i18n="investorMetricsSub">Detailed financial performance and
                return on investment analytics</p>

            <div class="fpo-dashboard" style="margin-top:30px">
                <div class="fpo-stat-card">
                    <i data-lucide="trending-up" class="fpo-stat-icon"></i>
                    <div class="fpo-stat-value">18.5%</div>
                    <div class="fpo-stat-label" data-i18n="investorROI1Label">Annual ROI</div>
                    <div class="fpo-stat-desc" data-i18n="investorROI1Desc">Based on carbon credits</div>
                </div>

                <div class="fpo-stat-card">
                    <i data-lucide="wallet" class="fpo-stat-icon"></i>
                    <div class="fpo-stat-value">₹1.2Cr</div>
                    <div class="fpo-stat-label" data-i18n="investorROI2Label">Revenue Generated</div>
                    <div class="fpo-stat-desc" data-i18n="investorROI2Desc">This fiscal year</div>
                </div>

                <div class="fpo-stat-card">
                    <i data-lucide="target" class="fpo-stat-icon"></i>
                    <div class="fpo-stat-value">94%</div>
                    <div class="fpo-stat-label" data-i18n="investorROI3Label">Target Achievement</div>
                    <div class="fpo-stat-desc" data-i18n="investorROI3Desc">Carbon credit goals</div>
                </div>

                <div class="fpo-stat-card">
                    <i data-lucide="pie-chart" class="fpo-stat-icon"></i>
                    <div class="fpo-stat-value">₹4.8L</div>
                    <div class="fpo-stat-label" data-i18n="investorROI4Label">Avg Revenue/Farmer</div>
                    <div class="fpo-stat-desc" data-i18n="investorROI4Desc">Annual average</div>
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- Investor Portfolio -->
        <section id="investor-portfolio" class="section-wrap" data-role="investor" style="display: none;"
            aria-labelledby="investor-portfolio-title">
            <div class="section-title">
                <h2 id="investor-portfolio-title" class="accessible-heading" data-i18n="investorPortfolioTitle">
                    Investment Portfolio <i data-lucide="briefcase" style="color:var(--leaf);margin-top:4px"></i></h2>
            </div>
            <p class="section-sub accessible-text" data-i18n="investorPortfolioSub">Manage and track your investment
                portfolio across different regions and crops</p>

            <div class="grid" style="margin-top:30px">
                <div class="card">
                    <i data-lucide="map" class="icon-lg"></i>
                    <h3 data-i18n="investorPortfolio1Title">Geographic Distribution</h3>
                    <p data-i18n="investorPortfolio1Desc">View investments across different states and regions with
                        performance metrics.</p>
                </div>
                <div class="card">
                    <i data-lucide="sprout" class="icon-lg"></i>
                    <h3 data-i18n="investorPortfolio2Title">Crop Diversification</h3>
                    <p data-i18n="investorPortfolio2Desc">Track investments across different crop types and their carbon
                        potential.</p>
                </div>
                <div class="card">
                    <i data-lucide="calendar" class="icon-lg"></i>
                    <h3 data-i18n="investorPortfolio3Title">Timeline & Milestones</h3>
                    <p data-i18n="investorPortfolio3Desc">Monitor investment timelines, carbon credit generation
                        milestones, and payouts.</p>
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- Investor Opportunities -->
        <section id="investor-opportunities" class="section-wrap" data-role="investor" style="display: none;"
            aria-labelledby="investor-opportunities-title">
            <div class="section-title">
                <h2 id="investor-opportunities-title" class="accessible-heading" data-i18n="investorOpportunitiesTitle">
                    Investment Opportunities <i data-lucide="lightbulb" style="color:var(--leaf);margin-top:4px"></i>
                </h2>
            </div>
            <p class="section-sub accessible-text" data-i18n="investorOpportunitiesSub">Explore new investment
                opportunities in regenerative agriculture</p>

            <div class="grid" style="margin-top:30px">
                <div class="card">
                    <i data-lucide="users" class="icon-lg"></i>
                    <h3 data-i18n="investorOpp1Title">FPO Partnerships</h3>
                    <p data-i18n="investorOpp1Desc">Invest in FPOs to scale impact across multiple farmers and regions.
                    </p>
                </div>
                <div class="card">
                    <i data-lucide="map-pin" class="icon-lg"></i>
                    <h3 data-i18n="investorOpp2Title">Regional Expansion</h3>
                    <p data-i18n="investorOpp2Desc">Fund expansion into new regions with high carbon credit potential.
                    </p>
                </div>
                <div class="card">
                    <i data-lucide="cpu" class="icon-lg"></i>
                    <h3 data-i18n="investorOpp3Title">Technology Upgrades</h3>
                    <p data-i18n="investorOpp3Desc">Invest in AI and satellite technology to improve verification and
                        scaling.</p>
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <section id="finance" class="section-wrap" data-role="farmer" aria-labelledby="fin-title">
            <div class="section-title">
                <h2 id="fin-title" data-i18n="financeTitle">Financial Inclusivity <i data-lucide="wallet"
                        style="color:var(--leaf);margin-top:4px"></i> — future roadmap</h2>
            </div>
            <p class="section-sub" data-i18n="financeSub">Digital recharge, small loans, digital gold, and insurance are
                planned farmer-first features.</p>

            <div class="grid" style="margin-top:25px">
                <div class="card">
                    <i data-lucide="smartphone" class="icon-lg"></i>
                    <h3 data-i18n="finance1Title">Digital Payments</h3>
                    <p data-i18n="finance1Desc">Easy mobile top-up, utility bill payments, and merchant transactions
                        within the Rupiya Wallet.</p>
                </div>
                <div class="card">
                    <i data-lucide="credit-card" class="icon-lg"></i>
                    <h3 data-i18n="finance2Title">Credit Access</h3>
                    <p data-i18n="finance2Desc">Collateral-light loans and microfinance options using verified crop data
                        and farm traceability scores.</p>
                </div>
                <div class="card">
                    <i data-lucide="shield-check" class="icon-lg"></i>
                    <h3 data-i18n="finance3Title">Parametric Insurance</h3>
                    <p data-i18n="finance3Desc">Customized products for climate risks like excess rain, heat shock, or
                        specific crop damage events.</p>
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- Farmer Quick Actions & Notifications -->
        <section id="farmer-quick-actions" class="section-wrap" data-role="farmer"
            aria-labelledby="farmer-actions-title">
            <div class="section-title">
                <h2 id="farmer-actions-title" class="accessible-heading" data-i18n="farmerActionsTitle">Quick Actions &
                    Alerts <i data-lucide="zap" style="color:var(--leaf);margin-top:4px"></i></h2>
            </div>
            <p class="section-sub accessible-text" data-i18n="farmerActionsSub">Stay updated with important
                notifications and take quick actions</p>

            <div class="grid" style="margin-top:30px">
                <div class="card" style="position:relative">
                    <div style="position:absolute;top:15px;right:15px;background:var(--earth-green);color:white;padding:4px 10px;border-radius:12px;font-size:0.75rem;font-weight:700"
                        data-i18n="alertNew">NEW</div>
                    <i data-lucide="bell" class="icon-lg"></i>
                    <h3 data-i18n="farmerAction1Title">Weather Alert</h3>
                    <p data-i18n="farmerAction1Desc">Heavy rainfall expected in 2 days. Prepare your fields accordingly.
                    </p>
                    <button class="btn secondary" style="margin-top:12px;width:100%" data-i18n="viewDetails">View
                        Details</button>
                </div>
                <div class="card">
                    <i data-lucide="calendar-check" class="icon-lg"></i>
                    <h3 data-i18n="farmerAction2Title">Upcoming Tasks</h3>
                    <p data-i18n="farmerAction2Desc">3 tasks due this week. Complete them to maintain compliance score.
                    </p>
                    <button class="btn secondary" style="margin-top:12px;width:100%" data-i18n="viewTasks">View
                        Tasks</button>
                </div>
                <div class="card">
                    <i data-lucide="dollar-sign" class="icon-lg"></i>
                    <h3 data-i18n="farmerAction3Title">Payment Status</h3>
                    <p data-i18n="farmerAction3Desc">₹12,000 pending payment. Expected to credit in 5 days.</p>
                    <button class="btn secondary" style="margin-top:12px;width:100%" data-i18n="checkPayment">Check
                        Payment</button>
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- FPO Member Search & Reports -->
        <section id="fpo-tools" class="section-wrap" data-role="fpo" style="display: none;"
            aria-labelledby="fpo-tools-title">
            <div class="section-title">
                <h2 id="fpo-tools-title" class="accessible-heading" data-i18n="fpoToolsTitle">Member Tools & Reports <i
                        data-lucide="search" style="color:var(--leaf);margin-top:4px"></i></h2>
            </div>
            <p class="section-sub accessible-text" data-i18n="fpoToolsSub">Search members, generate reports, and manage
                FPO operations</p>

            <div style="margin-top:30px">
                <div class="card" style="padding:25px;margin-bottom:20px">
                    <div style="display:flex;gap:15px;align-items:center;flex-wrap:wrap">
                        <div style="flex:1;min-width:250px">
                            <input type="text" id="memberSearch" placeholder="Search by name, village, or ID..."
                                style="width:100%;padding:12px 16px;border:2px solid var(--glass-border);border-radius:12px;font-size:1rem"
                                data-i18n-placeholder="searchMemberPlaceholder">
                        </div>
                        <button class="btn" style="padding:12px 24px" data-i18n="searchBtn">Search</button>
                        <button class="btn secondary" style="padding:12px 24px" data-i18n="exportReport">Export
                            Report</button>
                    </div>
                </div>

                <div class="grid">
                    <div class="card">
                        <i data-lucide="file-text" class="icon-lg"></i>
                        <h3 data-i18n="fpoTool1Title">Compliance Report</h3>
                        <p data-i18n="fpoTool1Desc">Generate detailed compliance reports for all members with export
                            options.</p>
                    </div>
                    <div class="card">
                        <i data-lucide="trending-up" class="icon-lg"></i>
                        <h3 data-i18n="fpoTool2Title">Performance Analytics</h3>
                        <p data-i18n="fpoTool2Desc">View group performance metrics, trends, and improvement areas.</p>
                    </div>
                    <div class="card">
                        <i data-lucide="send" class="icon-lg"></i>
                        <h3 data-i18n="fpoTool3Title">Bulk Notifications</h3>
                        <p data-i18n="fpoTool3Desc">Send announcements and updates to all members via SMS or app.</p>
                    </div>
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- Buyer Order Tracking & Filters -->
        <section id="buyer-tools" class="section-wrap" data-role="buyer" style="display: none;"
            aria-labelledby="buyer-tools-title">
            <div class="section-title">
                <h2 id="buyer-tools-title" class="accessible-heading" data-i18n="buyerToolsTitle">Order Management &
                    Tracking <i data-lucide="package-search" style="color:var(--leaf);margin-top:4px"></i></h2>
            </div>
            <p class="section-sub accessible-text" data-i18n="buyerToolsSub">Track orders, filter products, and manage
                your procurement</p>

            <div style="margin-top:30px">
                <div class="card" style="padding:25px;margin-bottom:20px">
                    <div style="display:flex;gap:15px;align-items:center;flex-wrap:wrap">
                        <select id="orderFilter"
                            style="flex:1;min-width:200px;padding:12px 16px;border:2px solid var(--glass-border);border-radius:12px;font-size:1rem">
                            <option value="all" data-i18n="filterAll">All Orders</option>
                            <option value="pending" data-i18n="filterPending">Pending</option>
                            <option value="processing" data-i18n="filterProcessing">Processing</option>
                            <option value="shipped" data-i18n="filterShipped">Shipped</option>
                            <option value="delivered" data-i18n="filterDelivered">Delivered</option>
                        </select>
                        <input type="text" id="orderSearch" placeholder="Search orders..."
                            style="flex:1;min-width:200px;padding:12px 16px;border:2px solid var(--glass-border);border-radius:12px;font-size:1rem"
                            data-i18n-placeholder="searchOrderPlaceholder">
                        <button class="btn" style="padding:12px 24px" data-i18n="filterBtn">Filter</button>
                    </div>
                </div>

                <div class="grid">
                    <div class="card">
                        <i data-lucide="map-pin" class="icon-lg"></i>
                        <h3 data-i18n="buyerTool1Title">Live Tracking</h3>
                        <p data-i18n="buyerTool1Desc">Real-time tracking of your orders from farm to facility with GPS
                            updates.</p>
                    </div>
                    <div class="card">
                        <i data-lucide="filter" class="icon-lg"></i>
                        <h3 data-i18n="buyerTool2Title">Advanced Filters</h3>
                        <p data-i18n="buyerTool2Desc">Filter by crop type, certification, region, or carbon credit
                            status.</p>
                    </div>
                    <div class="card">
                        <i data-lucide="download" class="icon-lg"></i>
                        <h3 data-i18n="buyerTool3Title">Export Data</h3>
                        <p data-i18n="buyerTool3Desc">Download order history, certificates, and traceability reports.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- Investor Analytics & Charts -->
        <section id="investor-tools" class="section-wrap" data-role="investor" style="display: none;"
            aria-labelledby="investor-tools-title">
            <div class="section-title">
                <h2 id="investor-tools-title" class="accessible-heading" data-i18n="investorToolsTitle">Analytics &
                    Insights <i data-lucide="bar-chart-4" style="color:var(--leaf);margin-top:4px"></i></h2>
            </div>
            <p class="section-sub accessible-text" data-i18n="investorToolsSub">Advanced analytics, charts, and
                investment insights</p>

            <div style="margin-top:30px">
                <div class="card" style="padding:25px;margin-bottom:20px">
                    <div style="display:flex;gap:15px;align-items:center;flex-wrap:wrap">
                        <select id="chartPeriod"
                            style="flex:1;min-width:200px;padding:12px 16px;border:2px solid var(--glass-border);border-radius:12px;font-size:1rem">
                            <option value="week" data-i18n="periodWeek">Last Week</option>
                            <option value="month" data-i18n="periodMonth">Last Month</option>
                            <option value="quarter" data-i18n="periodQuarter">Last Quarter</option>
                            <option value="year" data-i18n="periodYear">Last Year</option>
                        </select>
                        <button class="btn primary" style="padding:12px 24px" data-i18n="generateReport"
                            id="generate-report-btn"> <i data-lucide="play" style="width: 18px;"></i> Generate
                            Report</button>
                        <button class="btn secondary" style="padding:12px 24px" data-i18n="exportData">Export
                            Data</button>
                    </div>
                </div>


                <div class="grid kpi-summary-grid">
                    <div class="card kpi-card" id="kpi-financial">
                        <i data-lucide="trending-up" class="icon-md" style="color: var(--leaf);"></i>
                        <div class="kpi-content">
                            <p class="kpi-value" data-value="0.0">₹ -- Lakh</p>
                            <h4 class="kpi-label">Total Platform Revenue</h4>
                        </div>
                    </div>
                    <div class="card kpi-card" id="kpi-farmers">
                        <i data-lucide="users" class="icon-md" style="color: var(--cloud-navy);"></i>
                        <div class="kpi-content">
                            <p class="kpi-value" data-value="0">0</p>
                            <h4 class="kpi-label">Total Farmers Onboarded</h4>
                        </div>
                    </div>

                    <div class="card kpi-card" id="kpi-impact">
                        <i data-lucide="leaf" class="icon-md" style="color: var(--accent);"></i>
                        <div class="kpi-content">
                            <p class="kpi-value" data-value="0">0 Tonnes</p>
                            <h4 class="kpi-label">CO₂ Sequestered (Cumulative)</h4>
                        </div>
                    </div>

                </div>


            </div>
            </div>
        </section>

        <section style="text-align:center;margin:30px 0" class="reveal-item">
            <div class="card" style="display:inline-block;padding:25px 30px;background:var(--bg-light)">
                <h3 style="margin:0;font-size:1.6rem" data-i18n="onboardTitle">Ready to onboard and earn?</h3>
                <p style="margin:8px 0 16px;font-size:1.1rem" data-i18n="onboardDesc">Join our pilot program and start
                    earning revenue from soil health and climate action today.</p>
                <button class="btn primary-cta" id="join2"></button>
            </div>
        </section>

        <footer>
            <i data-lucide="heart" style="width:16px;height:16px;color:#d32f2f"></i> Rupiya.app 2025 • Healthy soil —
            Higher income.
        </footer>
    </main>

    <div class="modal-bg" id="traceModal" aria-hidden="true">
        <div class="modal">
            <button class="modal-close-btn" onclick="closeTrace()" aria-label="Close">
                <i data-lucide="x"></i>
            </button>
            <h3 data-i18n="modalTitle">Traceability Demo — Sample Batch Ledger</h3>
            <p style="margin-top: -10px" data-i18n="modalDesc">Scan the QR (mock) or inspect the JSON below. This ledger
                links the final produce to the verified carbon credits.</p>
            <div style="display:flex; gap:30px; align-items:flex-start; margin-top:15px; flex-wrap: wrap;">
                <div style="flex-shrink:0; text-align:center;">
                    <img src="https://via.placeholder.com/150x150?text=QR+Code+Mock" alt="Mock QR Code"
                        style="border-radius:8px; margin-bottom:10px; max-width: 100%;">
                    <strong data-i18n-prepend="batchIdText">Batch ID: RUP-2025-001</strong>
                </div>
                <pre id="traceJson" style="flex: 1; min-width: 250px;"></pre>
            </div>
            <button class="btn secondary" style="margin-top:20px; float:right" onclick="closeTrace()"
                data-i18n="modalClose">Close</button>
        </div>
    </div>

    <!-- Log Action Modal -->
    <div class="modal-bg" id="logActionModal" aria-hidden="true">
        <div class="modal">
            <button class="modal-close-btn" onclick="closeLogAction()" aria-label="Close">
                <i data-lucide="x"></i>
            </button>
            <h3 data-i18n="logActionTitle">Log New Action/Input</h3>
            <p style="margin-top: -10px; color: #666; font-size: 0.9rem;" data-i18n="logActionDesc">Record your farming
                activity for verification and compliance tracking.</p>
            <form class="log-action-form" id="logActionForm">
                <div class="form-group">
                    <label data-i18n="logActionType">Action Type</label>
                    <select id="actionType" required>
                        <option value="">Select action type</option>
                        <option value="fertilizer" data-i18n="logOptFertilizer">Fertilizer Application</option>
                        <option value="irrigation" data-i18n="logOptIrrigation">Irrigation</option>
                        <option value="pesticide" data-i18n="logOptPesticide">Pesticide Application</option>
                        <option value="harvest" data-i18n="logOptHarvest">Harvest</option>
                        <option value="other" data-i18n="logOptOther">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label data-i18n="logActionDate">Date</label>
                    <input type="date" id="actionDate" required>
                </div>
                <div class="form-group">
                    <label data-i18n="logActionField">Field</label>
                    <select id="actionField" required>
                        <option value="field1" data-i18n="logOptField1">Field 1</option>
                        <option value="field2" data-i18n="logOptField2">Field 2</option>
                        <option value="field3" data-i18n="logOptField3">Field 3</option>
                    </select>
                </div>
                <div class="form-group">
                    <label data-i18n="logActionDetails">Details</label>
                    <textarea id="actionDetails" placeholder="Enter details about the action..." required></textarea>
                </div>
                <div style="display: flex; gap: 12px; margin-top: 10px;">
                    <button type="submit" class="btn" style="flex: 1;" data-i18n="logActionSubmit">Submit</button>
                    <button type="button" class="btn secondary" onclick="closeLogAction()" style="flex: 1;"
                        data-i18n="modalClose">Cancel</button>
                </div>
            </form>
        </div>
    </div>


    <div id="traceabilityModal" class="modal">
        <div class="modal-content">
            <span class="modal-close"
                style="float: right; font-size: 28px; font-weight: bold; cursor: pointer;">&times;</span>
            <h2 data-i18n="modalTitle" style="color: var(--cloud-navy);">Batch Ledger: Verified Regenerative
                Practices</h2>
            <p>This data is securely logged and immutable, providing full transparency.</p>

            <div id="ledgerBody" class="ledger-body" style="overflow-x: auto;">
            </div>
        </div>
    </div>
    <script>


        // lucide icons initialization
        lucide.createIcons();

        // Smooth scroll for internal anchors
        document.querySelectorAll('a[href^="#"]').forEach(a => {
            a.addEventListener('click', e => {
                e.preventDefault();
                const targetId = a.getAttribute('href');
                document.querySelector(targetId).scrollIntoView({ behavior: 'smooth', block: 'start' });

                // Close mobile menu on link click
                const navMenu = document.getElementById('nav-menu');
                if (navMenu.classList.contains('is-active')) {
                    toggleMobileMenu();
                }
            });
        });

        // Intersection Observer for Staggered Animation
        const revealObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('show');

                    const items = entry.target.querySelectorAll('.card, .stat, .reveal-item');
                    items.forEach((item, index) => {
                        item.style.transitionDelay = `${index * 100}ms`;
                        item.classList.add('show');
                    });

                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.section-wrap, .hero').forEach(el => {
            revealObserver.observe(el);
        });

        // Audience pills/dropdown behaviour
        let currentAudience = 'farmer';
        const roleDropdown = document.getElementById('role-dropdown');
        const roleDropdownBtn = document.getElementById('role-dropdown-btn');
        const dropdownItems = document.querySelectorAll('.dropdown-item');

        // Toggle dropdown
        roleDropdownBtn.addEventListener('click', () => {
            roleDropdown.classList.toggle('is-open');
        });

        // Handle item selection
        dropdownItems.forEach(item => {
            item.addEventListener('click', () => {
                const aud = item.dataset.audience;

                // Update button text
                roleDropdownBtn.querySelector('span').textContent = item.textContent;

                // Update active state
                dropdownItems.forEach(i => i.classList.remove('active'));
                item.classList.add('active');

                // Close dropdown
                roleDropdown.classList.remove('is-open');

                // Call the main audience logic
                setAudience(aud);
            });
        });

        // Close dropdown if clicking outside
        window.addEventListener('click', (e) => {
            if (!roleDropdown.contains(e.target)) {
                roleDropdown.classList.remove('is-open');
            }
        });


        // Language support (EN + Gujarati)
        let lang = 'en'; // <-- DEFAULT LANGUAGE IS SET HERE

        const translations = {
            en: {
                // ... (All existing 'en' translations remain unchanged for brevity) ...
                pageTitle: 'Rupiya.app — Earth → Cloud (Pro Enhanced)',
                navPrototype: 'Earth → Cloud prototype',
                navHome: 'Home', navResidue: 'Residue-Free', navTasks: 'Task Manager', navCarbon: 'Carbon Credits', navFinance: 'Finance',
                pillFarmer: 'Farmers', pillFPO: 'FPOs', pillBuyer: 'Buyers', pillInvestor: 'Investors',
                learnCredits: 'How Carbon Credits Work',
                statFarmers: 'Farmers (target)', statHectares: 'Hectares (target)', statCredit: '/verified credit',
                heroTitle: '<span class="accent">Where soil</span> meets <span class="accent">satellite</span> — turn better farming into real income',
                heroSub_farmer: 'Residue-free farming • Satellite soil testing • Verified carbon credits • Farmer-first finance',
                heroSub_fpo: 'Training & buy-back • Carbon revenue for groups • Supply-chain support',
                heroSub_buyer: 'Traceable residue-free produce • Certifications & procurement',
                heroSub_investor: 'Impact metrics • Carbon inventory • Partnerships',
                joinFarmer: 'Join as Farmer', joinFPO: 'Partner as FPO', contactBuyers: 'Contact for Procurement', contactInvestors: 'Contact for Investors',
                illuSoil: 'Soil Data', illuSatellite: 'Satellite Monitor', illuCarbon: 'Carbon', illuIncome: 'Income', illuCloud: 'Rupiya AI Cloud',
                resTitle: 'Residue-Free Farming — how it works', resSub: 'Satellite soil testing → AI monitoring → Expert advisory → Residue-free inputs → Buy-back',
                resDiagramTitle: 'Soil → Satellite → Proof (interactive)',
                resLayer1: 'Soil Organic Layer (Carbon Storage)', resLayer2: 'Root Zone & Microbial Activity', resLayer3: 'Satellite Imagery & AI Analytics (Verification)',
                keyServicesTitle: 'Key services',
                service1Title: 'AI Soil Analytics', service1Desc: 'Satellite + local sensors → actionable scores',
                service2Title: 'Agronomy Support', service2Desc: 'On-field experts + mobile guidance for implementation',
                service3Title: 'Farm-Gate Buy-back', service3Desc: 'Direct procurement removes middlemen, ensures fair price',
                tasksTitle: 'AI-Driven Task Manager',
                tasksSub: 'Actionable guidance generated from satellite data, weather, and soil health scores.',
                taskListTitle: 'Upcoming Actions (Field 1)',
                progressLabel: 'Compliance Score for Carbon Verification',
                logAction: 'Log New Action/Input',
                task1Title: 'Apply Organic Manure (High Priority)', task1Desc: 'AI indicates low SOC activity; required for Q4 carbon verification.', task1Date: 'Due: Nov 25',
                task2Title: 'Check Irrigation System', task2Desc: 'Satellite detected slight moisture stress in southern quadrant.', task2Date: 'Due: Nov 21',
                task3Title: 'Agronomy Follow-up', task3Desc: 'Review application technique with field agent.', task3Date: 'Due: Nov 28',
                carbonTitle: 'Carbon Credits — simple & farmer-friendly',
                carbonSub: 'How soil carbon increases and how farmers earn ₹800 per verified credit',
                creditWhatTitle: 'What is a carbon credit?',
                creditWhatDesc: 'A verified unit representing stored $\\text{CO}_2$. Regenerative practices increase **Soil Organic Carbon (SOC)** which is verified using $\\text{AI}$ and converted into marketable credits.',
                creditEarnTitle: 'How it earns ₹800',
                creditEarnDesc: 'Each verified credit pays the farmer approximately **₹800**. Verification is conducted through independent, certified partners (e.g., Carboneg) using digital traceability for transparency.',
                targetTitle: 'Target & Scalability',
                targetDesc: 'Our goal is to onboard **50,000+ farmers** across **5,00,000 hectares** in 3 years—providing essential training and continuous field support.',
                calcTitle: 'Farmer Income Calculator',
                labelArea: 'Area (hectares)', labelPractice: 'Practice factor (0.1 - 1)',
                optMinimal: 'Minimal regenerative (0.2)', optGood: 'Good practice (0.5)', optAdvanced: 'Advanced (0.8)',
                calcAssumption: 'Assumption: 1 credit $\\approx$ 1 tonne $\\text{CO}_2$ sequestered; ₹800/credit',
                estimateBtn: 'Estimate Income',
                calcPlaceholder: 'Enter area & practice to estimate',
                calcResultPrefix: 'Estimated income: ₹',
                logActionTitle: 'Log New Action/Input',
                logActionDesc: 'Record your farming activity for verification and compliance tracking.',
                logActionType: 'Action Type',
                logActionDate: 'Date',
                logActionField: 'Field',
                logActionDetails: 'Details',
                logActionSubmit: 'Submit',
                logOptFertilizer: 'Fertilizer Application',
                logOptIrrigation: 'Irrigation',
                logOptPesticide: 'Pesticide Application',
                logOptHarvest: 'Harvest',
                logOptOther: 'Other',
                logOptField1: 'Field 1',
                logOptField2: 'Field 2',
                logOptField3: 'Field 3',
                transparencyTitle: 'Supply Chain Transparency',
                transparencyDesc: 'View the digital ledger (mock) of a verified batch.',
                traceBtn: 'Show Traceability Demo',
                modalTitle: 'Traceability Demo — Sample Batch Ledger',
                modalDesc: 'Scan the QR (mock) or inspect the JSON below. This ledger links the final produce to the verified carbon credits.',
                batchIdText: 'Batch ID',
                modalClose: 'Close',
                financeTitle: 'Financial Inclusivity — future roadmap',
                financeSub: 'Digital recharge, small loans, digital gold, and insurance are planned farmer-first features.',
                finance1Title: 'Digital Payments', finance1Desc: 'Easy mobile top-up, utility bill payments, and merchant transactions within the Rupiya Wallet.',
                finance2Title: 'Credit Access', finance2Desc: 'Collateral-light loans and microfinance options using verified crop data and farm traceability scores.',
                finance3Title: 'Parametric Insurance', finance3Desc: 'Customized products for climate risks like excess rain, heat shock, or specific crop damage events.',
                onboardTitle: 'Ready to onboard and earn?',
                onboardDesc: 'Join our pilot program and start earning revenue from soil health and climate action today.',
                tipL1: 'Soil Organic Carbon (SOC) storage is measured by satellite spectroscopy and validated by ground sensors.',
                tipL2: 'Microbial health and nutrient activity in the root zone ensure healthy, residue-free produce.',
                tipL3: 'AI processes satellite data to provide real-time field scores and proof of regenerative practices.',
                navJourney: 'Farmer Journey',
                journeyTitle: 'Your Journey to Carbon Credits',
                journeySub: 'Simple steps from registration to earning carbon credits',
                journeyStep1Title: 'Registration & Field Mapping',
                journeyStep1Desc: 'Sign up with your mobile number, add your farm details, and map your fields using GPS or satellite imagery. Our team verifies your information.',
                journeyStep2Title: 'Soil Testing & Analysis',
                journeyStep2Desc: 'Satellite-based soil testing analyzes your field\'s organic carbon levels. AI processes the data to create your baseline soil health score.',
                journeyStep3Title: 'AI Recommendations',
                journeyStep3Desc: 'Receive personalized recommendations for regenerative practices: organic inputs, crop rotation, cover crops, and residue management tailored to your field.',
                journeyStep4Title: 'Implementation Support',
                journeyStep4Desc: 'Get on-field support from agronomists, access to quality inputs, and step-by-step mobile guidance. Log your activities through the app.',
                journeyStep5Title: 'Monitoring & Verification',
                journeyStep5Desc: 'Satellite monitoring tracks your progress. AI verifies your practices match recommendations. Regular compliance scores show your carbon credit potential.',
                journeyStep6Title: 'Carbon Credit Generation',
                journeyStep6Desc: 'After 12-18 months of verified practices, your increased soil organic carbon is converted into verified carbon credits by certified partners.',
                journeyStep7Title: 'Payment & Rewards',
                journeyStep7Desc: 'Receive ₹800 per verified credit directly to your bank account within 30 days. Track your earnings and access additional financial services.',
                fpoTitle: 'FPO Partnership Dashboard',
                fpoSub: 'Manage your member farmers, track group performance, and maximize collective carbon credit earnings',
                fpoStat1Label: 'Active Member Farmers',
                fpoStat1Desc: 'Across 15 villages',
                fpoStat2Label: 'Total Carbon Revenue',
                fpoStat2Desc: 'This quarter',
                fpoStat3Label: 'Verified Credits',
                fpoStat3Desc: 'Generated this year',
                fpoStat4Label: 'Hectares Monitored',
                fpoStat4Desc: 'Under FPO management',
                fpoStat5Label: 'Bulk Procurement Value',
                fpoStat5Desc: 'Residue-free produce',
                fpoStat6Label: 'Compliance Score',
                fpoStat6Desc: 'Group average',
                fpoChartTitle: 'Member Growth & Carbon Credits Over Time',
                fpoChartPlaceholder: 'Interactive chart showing member growth and carbon credit generation trends',
                navFPODashboard: 'FPO Dashboard',
                navFPOMembers: 'Member Management',
                navFPOProcurement: 'Bulk Procurement',
                fpoMembersTitle: 'Member Management',
                fpoMembersSub: 'Track and manage your FPO member farmers, their fields, and compliance status',
                fpoMembersActive: 'Active Members',
                fpoMembersActiveDesc: 'Compliant with practices',
                fpoMembersFields: 'Total Fields',
                fpoMembersFieldsDesc: 'Under monitoring',
                fpoMembersCompliance: 'Average Compliance',
                fpoMembersComplianceDesc: 'This quarter',
                fpoMembersTraining: 'Training Sessions',
                fpoMembersTrainingDesc: 'Scheduled this month',
                fpoProcurementTitle: 'Bulk Procurement',
                fpoProcurementSub: 'Manage bulk procurement of residue-free produce from member farmers',
                fpoProcurement1Title: 'Aggregation Hub',
                fpoProcurement1Desc: 'Central collection point for member produce with quality checks and sorting facilities.',
                fpoProcurement2Title: 'Quality Assurance',
                fpoProcurement2Desc: 'Automated quality testing and certification before bulk sale to buyers.',
                fpoProcurement3Title: 'Fair Pricing',
                fpoProcurement3Desc: 'Transparent pricing model ensuring fair returns to all member farmers.',
                navBuyerCatalog: 'Product Catalog',
                navBuyerTraceability: 'Traceability',
                navBuyerProcurement: 'Procurement',
                navBuyerCertifications: 'Certifications',
                buyerCatalogTitle: 'Residue-Free Product Catalog',
                buyerCatalogSub: 'Browse verified residue-free produce with complete traceability',
                productBadgeCertified: 'Certified',
                product1Name: 'Organic Wheat',
                product1Desc: 'Premium quality, residue-free wheat from verified farms',
                product1Price: '₹2,800/quintal',
                product2Name: 'Organic Cotton',
                product2Desc: 'Traceable organic cotton with carbon credit certification',
                product2Price: '₹6,500/quintal',
                product3Name: 'Organic Vegetables',
                product3Desc: 'Fresh, residue-free vegetables from verified farms',
                product3Price: '₹45/kg',
                productViewDetails: 'View Details',
                buyerTraceabilityTitle: 'Complete Traceability Flow',
                buyerTraceabilitySub: 'Track your produce from farm to your facility with complete transparency',
                flowStep1Title: 'Farm Origin',
                flowStep1Desc: 'Verified farm location, soil health, and farming practices',
                flowStep2Title: 'Harvest & Collection',
                flowStep2Desc: 'Timestamped harvest with GPS coordinates and quality checks',
                flowStep3Title: 'Processing',
                flowStep3Desc: 'Certified processing facilities with quality control',
                flowStep4Title: 'Distribution',
                flowStep4Desc: 'Real-time tracking during transportation to your facility',
                flowStep5Title: 'Delivery',
                flowStep5Desc: 'Final delivery with complete documentation and certificates',
                buyerProcurementTitle: 'Procurement Portal',
                buyerProcurementSub: 'Place orders, track deliveries, and manage your procurement pipeline',
                buyerProcurement1Title: 'Order Management',
                buyerProcurement1Desc: 'Create and track bulk orders with automated inventory management.',
                buyerProcurement2Title: 'Delivery Scheduling',
                buyerProcurement2Desc: 'Schedule deliveries based on your production calendar and storage capacity.',
                buyerProcurement3Title: 'Quality Reports',
                buyerProcurement3Desc: 'Access detailed quality reports and certificates for each batch.',
                buyerCertificationsTitle: 'Quality Certifications',
                buyerCertificationsSub: 'Verified certifications for all your procured produce',
                buyerCert1Title: 'Residue-Free Certification',
                buyerCert1Desc: 'Verified zero pesticide residue through lab testing and satellite monitoring.',
                buyerCert2Title: 'Organic Certification',
                buyerCert2Desc: 'Certified organic produce meeting international organic standards.',
                buyerCert3Title: 'Carbon Credit Verified',
                buyerCert3Desc: 'Produce from farms with verified carbon credit generation.',
                navInvestorDashboard: 'Impact Dashboard',
                navInvestorMetrics: 'ROI Metrics',
                navInvestorPortfolio: 'Portfolio',
                navInvestorOpportunities: 'Opportunities',
                investorDashboardTitle: 'Impact Dashboard',
                investorDashboardSub: 'Track environmental and financial impact of your investments',
                investorMetric1Label: 'Farmers Impacted',
                investorMetric1Change: '+15% this quarter',
                investorMetric2Label: 'Tonnes CO₂ Sequestered',
                investorMetric2Change: '+22% this quarter',
                investorMetric3Label: 'Total Investment',
                investorMetric3Change: 'ROI: 18.5%',
                investorMetric4Label: 'Hectares Under Management',
                investorMetric4Change: '+8% expansion',
                investorMetricsTitle: 'ROI & Financial Metrics',
                investorMetricsSub: 'Detailed financial performance and return on investment analytics',
                investorROI1Label: 'Annual ROI',
                investorROI1Desc: 'Based on carbon credits',
                investorROI2Label: 'Revenue Generated',
                investorROI2Desc: 'This fiscal year',
                investorROI3Label: 'Target Achievement',
                investorROI3Desc: 'Carbon credit goals',
                investorROI4Label: 'Avg Revenue/Farmer',
                investorROI4Desc: 'Annual average',
                investorPortfolioTitle: 'Investment Portfolio',
                investorPortfolioSub: 'Manage and track your investment portfolio across different regions and crops',
                investorPortfolio1Title: 'Geographic Distribution',
                investorPortfolio1Desc: 'View investments across different states and regions with performance metrics.',
                investorPortfolio2Title: 'Crop Diversification',
                investorPortfolio2Desc: 'Track investments across different crop types and their carbon potential.',
                investorPortfolio3Title: 'Timeline & Milestones',
                investorPortfolio3Desc: 'Monitor investment timelines, carbon credit generation milestones, and payouts.',
                investorOpportunitiesTitle: 'Investment Opportunities',
                investorOpportunitiesSub: 'Explore new investment opportunities in regenerative agriculture',
                investorOpp1Title: 'FPO Partnerships',
                investorOpp1Desc: 'Invest in FPOs to scale impact across multiple farmers and regions.',
                investorOpp2Title: 'Regional Expansion',
                investorOpp2Desc: 'Fund expansion into new regions with high carbon credit potential.',
                investorOpp3Title: 'Technology Upgrades',
                investorOpp3Desc: 'Invest in AI and satellite technology to improve verification and scaling.',
                farmerActionsTitle: 'Quick Actions & Alerts',
                farmerActionsSub: 'Stay updated with important notifications and take quick actions',
                alertNew: 'NEW',
                farmerAction1Title: 'Weather Alert',
                farmerAction1Desc: 'Heavy rainfall expected in 2 days. Prepare your fields accordingly.',
                farmerAction2Title: 'Upcoming Tasks',
                farmerAction2Desc: '3 tasks due this week. Complete them to maintain compliance score.',
                farmerAction3Title: 'Payment Status',
                farmerAction3Desc: '₹12,000 pending payment. Expected to credit in 5 days.',
                viewDetails: 'View Details',
                viewTasks: 'View Tasks',
                checkPayment: 'Check Payment',
                fpoToolsTitle: 'Member Tools & Reports',
                fpoToolsSub: 'Search members, generate reports, and manage FPO operations',
                searchMemberPlaceholder: 'Search by name, village, or ID...',
                searchBtn: 'Search',
                exportReport: 'Export Report',
                fpoTool1Title: 'Compliance Report',
                fpoTool1Desc: 'Generate detailed compliance reports for all members with export options.',
                fpoTool2Title: 'Performance Analytics',
                fpoTool2Desc: 'View group performance metrics, trends, and improvement areas.',
                fpoTool3Title: 'Bulk Notifications',
                fpoTool3Desc: 'Send announcements and updates to all members via SMS or app.',
                buyerToolsTitle: 'Order Management & Tracking',
                buyerToolsSub: 'Track orders, filter products, and manage your procurement',
                filterAll: 'All Orders',
                filterPending: 'Pending',
                filterProcessing: 'Processing',
                filterShipped: 'Shipped',
                filterDelivered: 'Delivered',
                searchOrderPlaceholder: 'Search orders...',
                filterBtn: 'Filter',
                buyerTool1Title: 'Live Tracking',
                buyerTool1Desc: 'Real-time tracking of your orders from farm to facility with GPS updates.',
                buyerTool2Title: 'Advanced Filters',
                buyerTool2Desc: 'Filter by crop type, certification, region, or carbon credit status.',
                buyerTool3Title: 'Export Data',
                buyerTool3Desc: 'Download order history, certificates, and traceability reports.',
                investorToolsTitle: 'Analytics & Insights',
                investorToolsSub: 'Advanced analytics, charts, and investment insights',
                periodWeek: 'Last Week',
                periodMonth: 'Last Month',
                periodQuarter: 'Last Quarter',
                periodYear: 'Last Year',
                generateReport: 'Generate Report',
                exportData: 'Export Data',
                investorTool1Title: 'ROI Trends',
                investorTool1Desc: 'Interactive charts showing ROI trends over time with projections.',
                investorTool2Title: 'Portfolio Breakdown',
                investorTool2Desc: 'Visual breakdown of investments by region, crop, and performance.',
                investorTool3Title: 'Impact Metrics',
                investorTool3Desc: 'Track environmental impact, carbon sequestration, and farmer benefits.',
            },
            hi: {
                pageTitle: 'रुपिया.ऐप — पृथ्वी → क्लाउड (प्रो एन्हान्सड)',
                navPrototype: 'पृथ्वी → क्लाउड प्रोटोटाइप',
                navHome: 'होम', navResidue: 'अवशेष-मुक्त', navTasks: 'कार्य प्रबंधक', navJourney: 'किसान यात्रा', navCarbon: 'कार्बन क्रेडिट', navFinance: 'वित्त',
                pillFarmer: 'किसान', pillFPO: 'FPOs', pillBuyer: 'खरीदार', pillInvestor: 'निवेशक',
                learnCredits: 'कार्बन क्रेडिट कैसे काम करते हैं',
                statFarmers: 'किसान (लक्ष्य)', statHectares: 'हेक्टेयर (लक्ष्य)', statCredit: '/सत्यापित क्रेडिट',
                heroTitle: '<span class="accent">जहां मिट्टी</span> मिलती है <span class="accent">उपग्रह से</span> — बेहतर खेती को वास्तविक आय में बदलें',
                heroSub_farmer: 'अवशेष-मुक्त खेती • उपग्रह मिट्टी परीक्षण • सत्यापित कार्बन क्रेडिट • किसान-प्रथम वित्त',
                heroSub_fpo: 'प्रशिक्षण और खरीद-वापसी • समूहों के लिए कार्बन राजस्व • आपूर्ति-श्रृंखला सहायता',
                heroSub_buyer: 'ट्रेस करने योग्य अवशेष-मुक्त उत्पाद • प्रमाणपत्र और खरीद',
                heroSub_investor: 'प्रभाव मेट्रिक्स • कार्बन इन्वेंटरी • साझेदारी',
                joinFarmer: 'किसान के रूप में जुड़ें', joinFPO: 'FPO के रूप में साझेदार', contactBuyers: 'खरीद के लिए संपर्क करें', contactInvestors: 'निवेशकों के लिए संपर्क करें',
                illuSoil: 'मिट्टी डेटा', illuSatellite: 'उपग्रह मॉनिटर', illuCarbon: 'कार्बन', illuIncome: 'आय', illuCloud: 'रुपिया AI क्लाउड',
                resTitle: 'अवशेष-मुक्त खेती — यह कैसे काम करती है', resSub: 'उपग्रह मिट्टी परीक्षण → AI निगरानी → विशेषज्ञ सलाह → अवशेष-मुक्त इनपुट → खरीद-वापसी',
                resDiagramTitle: 'मिट्टी → उपग्रह → प्रमाण (इंटरैक्टिव)',
                resLayer1: 'मिट्टी कार्बनिक परत (कार्बन भंडारण)', resLayer2: 'जड़ क्षेत्र और सूक्ष्मजीव गतिविधि', resLayer3: 'उपग्रह इमेजरी और AI एनालिटिक्स (सत्यापन)',
                keyServicesTitle: 'मुख्य सेवाएं',
                service1Title: 'AI मिट्टी एनालिटिक्स', service1Desc: 'उपग्रह + स्थानीय सेंसर → कार्रवाई योग्य स्कोर',
                service2Title: 'कृषि विज्ञान सहायता', service2Desc: 'कार्यान्वयन के लिए मैदानी विशेषज्ञ + मोबाइल मार्गदर्शन',
                service3Title: 'फार्म-गेट खरीद-वापसी', service3Desc: 'प्रत्यक्ष खरीद बिचौलियों को हटाती है, उचित मूल्य सुनिश्चित करती है',
                tasksTitle: 'AI-संचालित कार्य प्रबंधक',
                tasksSub: 'उपग्रह डेटा, मौसम और मिट्टी स्वास्थ्य स्कोर से उत्पन्न कार्रवाई योग्य मार्गदर्शन।',
                taskListTitle: 'आगामी कार्य (फील्ड 1)',
                progressLabel: 'कार्बन सत्यापन के लिए अनुपालन स्कोर',
                logAction: 'नई कार्रवाई/इनपुट लॉग करें',
                task1Title: 'जैविक खाद लागू करें (उच्च प्राथमिकता)', task1Desc: 'AI कम SOC गतिविधि इंगित करता है; Q4 कार्बन सत्यापन के लिए आवश्यक।', task1Date: 'नियत: नवंबर 25',
                task2Title: 'सिंचाई प्रणाली जांचें', task2Desc: 'उपग्रह ने दक्षिणी चतुर्थांश में हल्की नमी तनाव का पता लगाया।', task2Date: 'नियत: नवंबर 21',
                task3Title: 'कृषि विज्ञान फॉलो-अप', task3Desc: 'फील्ड एजेंट के साथ अनुप्रयोग तकनीक की समीक्षा करें।', task3Date: 'नियत: नवंबर 28',
                carbonTitle: 'कार्बन क्रेडिट — सरल और किसान-अनुकूल',
                carbonSub: 'मिट्टी कार्बन कैसे बढ़ता है और किसान ₹800 प्रति सत्यापित क्रेडिट कैसे कमाते हैं',
                creditWhatTitle: 'कार्बन क्रेडिट क्या है?',
                creditWhatDesc: 'संग्रहीत $\\text{CO}_2$ का प्रतिनिधित्व करने वाला सत्यापित इकाई। पुनर्जीवन प्रथाएं **मिट्टी कार्बनिक कार्बन (SOC)** में वृद्धि करती हैं जिसे $\\text{AI}$ का उपयोग करके सत्यापित किया जाता है और विपणन योग्य क्रेडिट में परिवर्तित किया जाता है।',
                creditEarnTitle: 'यह ₹800 कैसे कमाता है',
                creditEarnDesc: 'प्रत्येक सत्यापित क्रेडिट किसान को लगभग **₹800** का भुगतान करता है। पारदर्शिता के लिए डिजिटल ट्रेसबिलिटी का उपयोग करके स्वतंत्र, प्रमाणित भागीदारों (जैसे, कार्बोनेग) द्वारा सत्यापन किया जाता है।',
                targetTitle: 'लक्ष्य और स्केलेबिलिटी',
                targetDesc: 'हमारा लक्ष्य 3 वर्षों में **50,000+ किसानों** को **5,00,000 हेक्टेयर** में ऑनबोर्ड करना है—आवश्यक प्रशिक्षण और निरंतर फील्ड सहायता प्रदान करना।',
                calcTitle: 'किसान आय कैलकुलेटर',
                labelArea: 'क्षेत्र (हेक्टेयर)', labelPractice: 'अभ्यास कारक (0.1 - 1)',
                optMinimal: 'न्यूनतम पुनर्जीवन (0.2)', optGood: 'अच्छा अभ्यास (0.5)', optAdvanced: 'उन्नत (0.8)',
                calcAssumption: 'धारणा: 1 क्रेडिट $\\approx$ 1 टन $\\text{CO}_2$ अलग किया गया; ₹800/क्रेडिट',
                estimateBtn: 'आय का अनुमान',
                calcPlaceholder: 'अनुमान के लिए क्षेत्र और अभ्यास दर्ज करें',
                calcResultPrefix: 'अनुमानित आय: ₹',
                logActionTitle: 'नई कार्रवाई/इनपुट लॉग करें',
                logActionDesc: 'सत्यापन और अनुपालन ट्रैकिंग के लिए अपनी खेती गतिविधि रिकॉर्ड करें।',
                logActionType: 'कार्रवाई प्रकार',
                logActionDate: 'तारीख',
                logActionField: 'फील्ड',
                logActionDetails: 'विवरण',
                logActionSubmit: 'सबमिट करें',
                logOptFertilizer: 'उर्वरक अनुप्रयोग',
                logOptIrrigation: 'सिंचाई',
                logOptPesticide: 'कीटनाशक अनुप्रयोग',
                logOptHarvest: 'फसल',
                logOptOther: 'अन्य',
                logOptField1: 'फील्ड 1',
                logOptField2: 'फील्ड 2',
                logOptField3: 'फील्ड 3',
                transparencyTitle: 'आपूर्ति श्रृंखला पारदर्शिता',
                transparencyDesc: 'सत्यापित बैच का डिजिटल लेजर (मॉक) देखें।',
                traceBtn: 'ट्रेसबिलिटी डेमो दिखाएं',
                modalTitle: 'ट्रेसबिलिटी डेमो — नमूना बैच लेजर',
                modalDesc: 'QR स्कैन करें (मॉक) या नीचे JSON का निरीक्षण करें। यह लेजर अंतिम उत्पाद को सत्यापित कार्बन क्रेडिट से जोड़ता है।',
                batchIdText: 'बैच ID',
                modalClose: 'बंद करें',
                financeTitle: 'वित्तीय समावेश — भविष्य का रोडमैप',
                financeSub: 'डिजिटल रिचार्ज, छोटे ऋण, डिजिटल गोल्ड, और बीमा नियोजित किसान-प्रथम सुविधाएं हैं।',
                finance1Title: 'डिजिटल भुगतान', finance1Desc: 'रुपिया वॉलेट के भीतर आसान मोबाइल टॉप-अप, उपयोगिता बिल भुगतान, और व्यापारी लेनदेन।',
                finance2Title: 'क्रेडिट एक्सेस', finance2Desc: 'सत्यापित फसल डेटा और फार्म ट्रेसबिलिटी स्कोर का उपयोग करके संपार्श्विक-हल्के ऋण और सूक्ष्म वित्त विकल्प।',
                finance3Title: 'पैरामीट्रिक बीमा', finance3Desc: 'अत्यधिक वर्षा, हीट शॉक, या विशिष्ट फसल क्षति घटनाओं जैसे जलवायु जोखिमों के लिए अनुकूलित उत्पाद।',
                onboardTitle: 'ऑनबोर्ड और कमाई करने के लिए तैयार?',
                onboardDesc: 'हमारे पायलट कार्यक्रम में शामिल हों और आज ही मिट्टी स्वास्थ्य और जलवायु कार्रवाई से राजस्व कमाना शुरू करें।',
                tipL1: 'मिट्टी कार्बनिक कार्बन (SOC) भंडारण उपग्रह स्पेक्ट्रोस्कोपी द्वारा मापा जाता है और जमीनी सेंसर द्वारा मान्य किया जाता है।',
                tipL2: 'जड़ क्षेत्र में सूक्ष्मजीव स्वास्थ्य और पोषक तत्व गतिविधि स्वस्थ, अवशेष-मुक्त उत्पाद सुनिश्चित करती है।',
                tipL3: 'AI वास्तविक समय फील्ड स्कोर और पुनर्जीवन प्रथाओं के प्रमाण प्रदान करने के लिए उपग्रह डेटा पर प्रक्रिया करता है।',
                navJourney: 'किसान यात्रा',
                journeyTitle: 'कार्बन क्रेडिट तक आपकी यात्रा',
                journeySub: 'सत्यापित क्रेडिट कमाने के लिए पंजीकरण से सरल कदम',
                journeyStep1Title: 'पंजीकरण और फील्ड मैपिंग',
                journeyStep1Desc: 'अपने मोबाइल नंबर से साइन अप करें, अपने फार्म विवरण जोड़ें, और GPS या उपग्रह इमेजरी का उपयोग करके अपने खेतों को मैप करें। हमारी टीम आपकी जानकारी सत्यापित करती है।',
                journeyStep2Title: 'मिट्टी परीक्षण और विश्लेषण',
                journeyStep2Desc: 'उपग्रह-आधारित मिट्टी परीक्षण आपके खेत के कार्बनिक कार्बन स्तर का विश्लेषण करता है। AI आपके बेसलाइन मिट्टी स्वास्थ्य स्कोर बनाने के लिए डेटा पर प्रक्रिया करता है।',
                journeyStep3Title: 'AI सिफारिशें',
                journeyStep3Desc: 'पुनर्जीवन प्रथाओं के लिए व्यक्तिगत सिफारिशें प्राप्त करें: जैविक इनपुट, फसल रोटेशन, कवर फसलें, और आपके खेत के अनुरूप अवशेष प्रबंधन।',
                journeyStep4Title: 'कार्यान्वयन सहायता',
                journeyStep4Desc: 'कृषि विज्ञानियों से मैदानी सहायता, गुणवत्तापूर्ण इनपुट तक पहुंच, और चरण-दर-चरण मोबाइल मार्गदर्शन प्राप्त करें। ऐप के माध्यम से अपनी गतिविधियों को लॉग करें।',
                journeyStep5Title: 'निगरानी और सत्यापन',
                journeyStep5Desc: 'उपग्रह निगरानी आपकी प्रगति को ट्रैक करती है। AI सत्यापित करता है कि आपकी प्रथाएं सिफारिशों से मेल खाती हैं। नियमित अनुपालन स्कोर आपकी कार्बन क्रेडिट क्षमता दिखाते हैं।',
                journeyStep6Title: 'कार्बन क्रेडिट जनरेशन',
                journeyStep6Desc: '12-18 महीनों के सत्यापित अभ्यास के बाद, आपके बढ़े हुए मिट्टी कार्बनिक कार्बन को प्रमाणित भागीदारों द्वारा सत्यापित कार्बन क्रेडिट में परिवर्तित किया जाता है।',
                journeyStep7Title: 'भुगतान और पुरस्कार',
                journeyStep7Desc: '30 दिनों के भीतर प्रत्येक सत्यापित क्रेडिट के लिए ₹800 सीधे अपने बैंक खाते में प्राप्त करें। अपनी कमाई ट्रैक करें और अतिरिक्त वित्तीय सेवाओं तक पहुंचें।',
                fpoTitle: 'FPO साझेदारी डैशबोर्ड',
                fpoSub: 'अपने सदस्य किसानों का प्रबंधन करें, समूह प्रदर्शन ट्रैक करें, और सामूहिक कार्बन क्रेडिट कमाई को अधिकतम करें',
                fpoStat1Label: 'सक्रिय सदस्य किसान',
                fpoStat1Desc: '15 गांवों में',
                fpoStat2Label: 'कुल कार्बन राजस्व',
                fpoStat2Desc: 'इस तिमाही',
                fpoStat3Label: 'सत्यापित क्रेडिट',
                fpoStat3Desc: 'इस वर्ष उत्पन्न',
                fpoStat4Label: 'हेक्टेयर निगरानी',
                fpoStat4Desc: 'FPO प्रबंधन के तहत',
                fpoStat5Label: 'थोक खरीद मूल्य',
                fpoStat5Desc: 'अवशेष-मुक्त उत्पाद',
                fpoStat6Label: 'अनुपालन स्कोर',
                fpoStat6Desc: 'समूह औसत',
                fpoChartTitle: 'समय के साथ सदस्य वृद्धि और कार्बन क्रेडिट',
                fpoChartPlaceholder: 'सदस्य वृद्धि और कार्बन क्रेडिट जनरेशन रुझान दिखाने वाला इंटरैक्टिव चार्ट',
                navFPODashboard: 'FPO डैशबोर्ड',
                navFPOMembers: 'सदस्य प्रबंधन',
                navFPOProcurement: 'थोक खरीद',
                fpoMembersTitle: 'सदस्य प्रबंधन',
                fpoMembersSub: 'अपने FPO सदस्य किसानों, उनके खेतों और अनुपालन स्थिति को ट्रैक और प्रबंधित करें',
                fpoMembersActive: 'सक्रिय सदस्य',
                fpoMembersActiveDesc: 'प्रथाओं के साथ अनुपालन',
                fpoMembersFields: 'कुल खेत',
                fpoMembersFieldsDesc: 'निगरानी के तहत',
                fpoMembersCompliance: 'औसत अनुपालन',
                fpoMembersComplianceDesc: 'इस तिमाही',
                fpoMembersTraining: 'प्रशिक्षण सत्र',
                fpoMembersTrainingDesc: 'इस महीने निर्धारित',
                fpoProcurementTitle: 'थोक खरीद',
                fpoProcurementSub: 'सदस्य किसानों से अवशेष-मुक्त उत्पाद की थोक खरीद का प्रबंधन करें',
                fpoProcurement1Title: 'एग्रीगेशन हब',
                fpoProcurement1Desc: 'गुणवत्ता जांच और छंटाई सुविधाओं के साथ सदस्य उत्पाद के लिए केंद्रीय संग्रह बिंदु।',
                fpoProcurement2Title: 'गुणवत्ता आश्वासन',
                fpoProcurement2Desc: 'खरीदारों को थोक बिक्री से पहले स्वचालित गुणवत्ता परीक्षण और प्रमाणन।',
                fpoProcurement3Title: 'निष्पक्ष मूल्य निर्धारण',
                fpoProcurement3Desc: 'सभी सदस्य किसानों को निष्पक्ष रिटर्न सुनिश्चित करने वाला पारदर्शी मूल्य निर्धारण मॉडल।',
                navBuyerCatalog: 'उत्पाद कैटलॉग',
                navBuyerTraceability: 'ट्रेसबिलिटी',
                navBuyerProcurement: 'खरीद',
                navBuyerCertifications: 'प्रमाणपत्र',
                buyerCatalogTitle: 'अवशेष-मुक्त उत्पाद कैटलॉग',
                buyerCatalogSub: 'पूर्ण ट्रेसबिलिटी के साथ सत्यापित अवशेष-मुक्त उत्पाद ब्राउज़ करें',
                productBadgeCertified: 'प्रमाणित',
                product1Name: 'जैविक गेहूं',
                product1Desc: 'सत्यापित खेतों से प्रीमियम गुणवत्ता, अवशेष-मुक्त गेहूं',
                product1Price: '₹2,800/क्विंटल',
                product2Name: 'जैविक कपास',
                product2Desc: 'कार्बन क्रेडिट प्रमाणन के साथ ट्रेस करने योग्य जैविक कपास',
                product2Price: '₹6,500/क्विंटल',
                product3Name: 'जैविक सब्जियां',
                product3Desc: 'सत्यापित खेतों से ताजी, अवशेष-मुक्त सब्जियां',
                product3Price: '₹45/किलो',
                productViewDetails: 'विवरण देखें',
                buyerTraceabilityTitle: 'पूर्ण ट्रेसबिलिटी फ्लो',
                buyerTraceabilitySub: 'पूर्ण पारदर्शिता के साथ खेत से अपनी सुविधा तक अपने उत्पाद को ट्रैक करें',
                flowStep1Title: 'खेत मूल',
                flowStep1Desc: 'सत्यापित खेत स्थान, मिट्टी स्वास्थ्य, और खेती प्रथाएं',
                flowStep2Title: 'फसल और संग्रह',
                flowStep2Desc: 'GPS निर्देशांक और गुणवत्ता जांच के साथ समय-चिह्नित फसल',
                flowStep3Title: 'प्रसंस्करण',
                flowStep3Desc: 'गुणवत्ता नियंत्रण के साथ प्रमाणित प्रसंस्करण सुविधाएं',
                flowStep4Title: 'वितरण',
                flowStep4Desc: 'आपकी सुविधा तक परिवहन के दौरान वास्तविक समय ट्रैकिंग',
                flowStep5Title: 'डिलीवरी',
                flowStep5Desc: 'पूर्ण दस्तावेजीकरण और प्रमाणपत्रों के साथ अंतिम डिलीवरी',
                buyerProcurementTitle: 'खरीद पोर्टल',
                buyerProcurementSub: 'ऑर्डर दें, डिलीवरी ट्रैक करें, और अपने खरीद पाइपलाइन का प्रबंधन करें',
                buyerProcurement1Title: 'ऑर्डर प्रबंधन',
                buyerProcurement1Desc: 'स्वचालित इन्वेंटरी प्रबंधन के साथ थोक ऑर्डर बनाएं और ट्रैक करें।',
                buyerProcurement2Title: 'डिलीवरी शेड्यूलिंग',
                buyerProcurement2Desc: 'अपने उत्पादन कैलेंडर और भंडारण क्षमता के आधार पर डिलीवरी शेड्यूल करें।',
                buyerProcurement3Title: 'गुणवत्ता रिपोर्ट',
                buyerProcurement3Desc: 'प्रत्येक बैच के लिए विस्तृत गुणवत्ता रिपोर्ट और प्रमाणपत्र तक पहुंचें।',
                buyerCertificationsTitle: 'गुणवत्ता प्रमाणपत्र',
                buyerCertificationsSub: 'आपके सभी खरीदे गए उत्पादों के लिए सत्यापित प्रमाणपत्र',
                buyerCert1Title: 'अवशेष-मुक्त प्रमाणन',
                buyerCert1Desc: 'प्रयोगशाला परीक्षण और उपग्रह निगरानी के माध्यम से सत्यापित शून्य कीटनाशक अवशेष।',
                buyerCert2Title: 'जैविक प्रमाणन',
                buyerCert2Desc: 'अंतर्राष्ट्रीय जैविक मानकों को पूरा करने वाला प्रमाणित जैविक उत्पाद।',
                buyerCert3Title: 'कार्बन क्रेडिट सत्यापित',
                buyerCert3Desc: 'सत्यापित कार्बन क्रेडिट जनरेशन वाले खेतों से उत्पाद।',
                navInvestorDashboard: 'प्रभाव डैशबोर्ड',
                navInvestorMetrics: 'ROI मेट्रिक्स',
                navInvestorPortfolio: 'पोर्टफोलियो',
                navInvestorOpportunities: 'अवसर',
                investorDashboardTitle: 'प्रभाव डैशबोर्ड',
                investorDashboardSub: 'अपने निवेश के पर्यावरणीय और वित्तीय प्रभाव को ट्रैक करें',
                investorMetric1Label: 'प्रभावित किसान',
                investorMetric1Change: '+15% इस तिमाही',
                investorMetric2Label: 'टन CO₂ अलग किया गया',
                investorMetric2Change: '+22% इस तिमाही',
                investorMetric3Label: 'कुल निवेश',
                investorMetric3Change: 'ROI: 18.5%',
                investorMetric4Label: 'प्रबंधन के तहत हेक्टेयर',
                investorMetric4Change: '+8% विस्तार',
                investorMetricsTitle: 'ROI और वित्तीय मेट्रिक्स',
                investorMetricsSub: 'विस्तृत वित्तीय प्रदर्शन और निवेश पर रिटर्न एनालिटिक्स',
                investorROI1Label: 'वार्षिक ROI',
                investorROI1Desc: 'कार्बन क्रेडिट पर आधारित',
                investorROI2Label: 'राजस्व उत्पन्न',
                investorROI2Desc: 'इस वित्तीय वर्ष',
                investorROI3Label: 'लक्ष्य उपलब्धि',
                investorROI3Desc: 'कार्बन क्रेडिट लक्ष्य',
                investorROI4Label: 'औसत राजस्व/किसान',
                investorROI4Desc: 'वार्षिक औसत',
                investorPortfolioTitle: 'निवेश पोर्टफोलियो',
                investorPortfolioSub: 'विभिन्न क्षेत्रों और फसलों में अपने निवेश पोर्टफोलियो का प्रबंधन और ट्रैक करें',
                investorPortfolio1Title: 'भौगोलिक वितरण',
                investorPortfolio1Desc: 'प्रदर्शन मेट्रिक्स के साथ विभिन्न राज्यों और क्षेत्रों में निवेश देखें।',
                investorPortfolio2Title: 'फसल विविधीकरण',
                investorPortfolio2Desc: 'विभिन्न फसल प्रकारों और उनकी कार्बन क्षमता में निवेश ट्रैक करें।',
                investorPortfolio3Title: 'टाइमलाइन और माइलस्टोन',
                investorPortfolio3Desc: 'निवेश समयसीमा, कार्बन क्रेडिट जनरेशन माइलस्टोन, और भुगतान की निगरानी करें।',
                investorOpportunitiesTitle: 'निवेश अवसर',
                investorOpportunitiesSub: 'पुनर्जीवन कृषि में नए निवेश अवसरों का अन्वेषण करें',
                investorOpp1Title: 'FPO साझेदारी',
                investorOpp1Desc: 'कई किसानों और क्षेत्रों में प्रभाव को बढ़ाने के लिए FPOs में निवेश करें।',
                investorOpp2Title: 'क्षेत्रीय विस्तार',
                investorOpp2Desc: 'उच्च कार्बन क्रेडिट क्षमता वाले नए क्षेत्रों में विस्तार के लिए धन।',
                investorOpp3Title: 'प्रौद्योगिकी अपग्रेड',
                investorOpp3Desc: 'सत्यापन और स्केलिंग में सुधार के लिए AI और उपग्रह प्रौद्योगिकी में निवेश करें।',
            },
            gu: {
                // ... (All existing 'gu' translations remain unchanged for brevity) ...
                pageTitle: 'રૂપિયા.એપ — પૃથ્વી → ક્લાઉડ (પ્રો એન્હાન્સડ)',
                navPrototype: 'પૃથ્વી → ક્લાઉડ પ્રોટોટાઇપ',
                navHome: 'મુખ્ય પૃષ્ઠ', navResidue: 'અવશેષ-મુક્ત', navTasks: 'કાર્ય વ્યવસ્થાપક', navCarbon: 'કાર્બન ક્રેડિટ', navFinance: 'નાણાં',
                pillFarmer: 'ખેડૂતો', pillFPO: 'FPOs', pillBuyer: 'ખરીદદારો', pillInvestor: 'રોકાણકારો',
                learnCredits: 'કાર્બન ક્રેડિટ્સ કેવી રીતે કામ કરે છે',
                statFarmers: 'ખેડૂતો (લક્ષ્ય)', statHectares: 'હેક્ટર (લક્ષ્ય)', statCredit: '/પ્રમાણિત ક્રેડિટ',
                heroTitle: '<span class="accent">જ્યાં જમીન</span> મળે છે <span class="accent">સેટેલાઇટને</span> — સારી ખેતીને વાસ્તવિક આવકમાં ફેરવો',
                heroSub_farmer: 'અવશેષ-મુક્ત ખેતી • સેટેલાઇટ જમીન પરીક્ષણ • પ્રમાણિત કાર્બન ક્રેડિટ • ખેડૂત-પ્રથમ ધિરાણ',
                heroSub_fpo: 'તાલીમ અને બાય-બેક • જૂથો માટે કાર્બન આવક • સપ્લાય-ચેઇન સપોર્ટ',
                heroSub_buyer: 'ટ્રેસેબલ અવશેષ-મુક્ત ઉત્પાદન • પ્રમાણપત્રો અને ખરીદી',
                heroSub_investor: 'અસર મેટ્રિક્સ • કાર્બન ઇન્વેન્ટરી • ભાગીદારી',
                joinFarmer: 'ખેડૂત તરીકે જોડાઓ', joinFPO: 'FPO તરીકે ભાગીદાર', contactBuyers: 'ખરીદી માટે સંપર્ક કરો', contactInvestors: 'રોકાણકારો માટે સંપર્ક કરો',
                illuSoil: 'જમીન ડેટા', illuSatellite: 'સેટેલાઇટ મોનિટર', illuCarbon: 'કાર્બન', illuIncome: 'આવક', illuCloud: 'રૂપિયા AI ક્લાઉડ',
                resTitle: 'અવશેષ-મુક્ત ખેતી — તે કેવી રીતે કાર્ય કરે છે', resSub: 'સેટેલાઇટ જમીન પરીક્ષણ → AI મોનિટરિંગ → નિષ્ણાત સલાહ → અવશેષ-મુક્ત ઇનપુટ્સ → બાય-બેક',
                resDiagramTitle: 'જમીન → સેટેલાઇટ → પુરાવો (ઇન્ટરેક્ટિવ)',
                resLayer1: 'જમીન ઓર્ગેનિક લેયર (કાર્બન સંગ્રહ)', resLayer2: 'મૂળ ઝોન અને માઇક્રોબાયલ પ્રવૃત્તિ', resLayer3: 'સેટેલાઇટ ઇમેજરી અને AI એનાલિટિક્સ (ચકાસણી)',
                keyServicesTitle: 'મુખ્ય સેવાઓ',
                service1Title: 'AI જમીન એનાલિટિક્સ', service1Desc: 'સેટેલાઇટ + સ્થાનિક સેન્સર → કાર્યવાહી યોગ્ય સ્કોર્સ',
                service2Title: 'કૃષિશાસ્ત્ર સપોર્ટ', service2Desc: 'અમલ માટે ઓન-ફિલ્ડ નિષ્ણાતો + મોબાઇલ માર્ગદર્શન',
                service3Title: 'ફાર્મ-ગેટ બાય-બેક', service3Desc: 'સીધી ખરીદી વચેટિયાઓને દૂર કરે છે, વાજબી ભાવની ખાતરી આપે છે',
                tasksTitle: 'AI-સંચાલિત કાર્ય વ્યવસ્થાપક',
                tasksSub: 'સેટેલાઇટ ડેટા, હવામાન અને જમીનના સ્વાસ્થ્ય સ્કોર્સમાંથી જનરેટ કરાયેલ કાર્યવાહી યોગ્ય માર્ગદર્શન.',
                taskListTitle: 'આગામી ક્રિયાઓ (ક્ષેત્ર 1)',
                progressLabel: 'કાર્બન ચકાસણી માટે પાલન સ્કોર',
                logAction: 'નવી ક્રિયા/ઇનપુટ લોગ કરો',
                task1Title: 'ઓર્ગેનિક ખાતર લાગુ કરો (ઉચ્ચ પ્રાથમિકતા)', task1Desc: 'AI ઓછી SOC પ્રવૃત્તિ સૂચવે છે; Q4 કાર્બન ચકાસણી માટે જરૂરી છે.', task1Date: 'નિયત: નવે 25',
                task2Title: 'સિંચાઈ સિસ્ટમ તપાસો', task2Desc: 'સેટેલાઇટે દક્ષિણ ચતુર્થાંશમાં સહેજ ભેજનું તાણ શોધી કાઢ્યું.', task2Date: 'નિયત: નવે 21',
                task3Title: 'કૃષિશાસ્ત્ર ફોલો-અપ', task3Desc: 'ફીલ્ડ એજન્ટ સાથે એપ્લિકેશન તકનીકની સમીક્ષા કરો.', task3Date: 'નિયત: નવે 28',
                carbonTitle: 'કાર્બન ક્રેડિટ્સ — સરળ અને ખેડૂત-મૈત્રીપૂર્ણ',
                carbonSub: 'જમીનનો કાર્બન કેવી રીતે વધે છે અને ખેડૂતો કેવી રીતે ₹800 પ્રતિ પ્રમાણિત ક્રેડિટ કમાય છે',
                creditWhatTitle: 'કાર્બન ક્રેડિટ શું છે?',
                creditWhatDesc: 'સંગ્રહિત $\\text{CO}_2$ નું પ્રતિનિધિત્વ કરતું પ્રમાણિત એકમ. પુનર્જીવિત પ્રથાઓ **જમીન ઓર્ગેનિક કાર્બન (SOC)** માં વધારો કરે છે જે $\\text{AI}$ નો ઉપયોગ કરીને પ્રમાણિત થાય છે અને માર્કેટેબલ ક્રેડિટ્સમાં રૂપાંતરિત થાય છે.',
                creditEarnTitle: 'તે ₹800 કેવી રીતે કમાય છે',
                creditEarnDesc: 'દરેક પ્રમાણિત ક્રેડિટ ખેડૂતને આશરે **₹800** ચૂકવે છે. પારદર્શિતા માટે ડિજિટલ ટ્રેસેબિલિટીનો ઉપયોગ કરીને સ્વતંત્ર, પ્રમાણિત ભાગીદારો (દા.ત., કાર્બોનેગ) દ્વારા ચકાસણી કરવામાં આવે છે.',
                targetTitle: 'લક્ષ્ય અને સ્કેલેબિલિટી',
                targetDesc: 'અમારો ધ્યેય 3 વર્ષમાં **50,000+ ખેડૂતોને** **5,00,000 હેક્ટર** માં ઓનબોર્ડ કરવાનો છે—જરૂરી તાલીમ અને સતત ફિલ્ડ સપોર્ટ પ્રદાન કરવો.',
                calcTitle: 'ખેડૂત આવક કેલ્ક્યુલેટર',
                labelArea: 'વિસ્તાર (હેક્ટર)', labelPractice: 'પ્રેક્ટિસ પરિબળ (0.1 - 1)',
                optMinimal: 'ન્યૂનતમ પુનર્જીવિત (0.2)', optGood: 'સારી પ્રેક્ટિસ (0.5)', optAdvanced: 'અદ્યતન (0.8)',
                calcAssumption: 'ધારણા: 1 ક્રેડિટ $\\approx$ 1 ટન $\\text{CO}_2$ અલગ કરેલ; ₹800/ક્રેડિટ',
                estimateBtn: 'આવકનો અંદાજ',
                calcPlaceholder: 'અંદાજ માટે વિસ્તાર અને પ્રેક્ટિસ દાખલ કરો',
                calcResultPrefix: 'અંદાજિત આવક: ₹',
                logActionTitle: 'નવી ક્રિયા/ઇનપુટ લોગ કરો',
                logActionDesc: 'ચકાસણી અને પાલન ટ્રેકિંગ માટે તમારી ખેતીની પ્રવૃત્તિ રેકોર્ડ કરો.',
                logActionType: 'ક્રિયા પ્રકાર',
                logActionDate: 'તારીખ',
                logActionField: 'ક્ષેત્ર',
                logActionDetails: 'વિગતો',
                logActionSubmit: 'સબમિટ કરો',
                logOptFertilizer: 'ખાતર એપ્લિકેશન',
                logOptIrrigation: 'સિંચાઈ',
                logOptPesticide: 'કીટનાશક એપ્લિકેશન',
                logOptHarvest: 'કાપણી',
                logOptOther: 'અન્ય',
                logOptField1: 'ક્ષેત્ર 1',
                logOptField2: 'ક્ષેત્ર 2',
                logOptField3: 'ક્ષેત્ર 3',
                transparencyTitle: 'સપ્લાય ચેઇન પારદર્શિતા',
                transparencyDesc: 'પ્રમાણિત બેચનો ડિજિટલ લેજર (મોક) જુઓ.',
                traceBtn: 'ટ્રેસેબિલિટી ડેમો બતાવો',
                modalTitle: 'ટ્રેસેબિલિટી ડેમો — નમૂના બેચ લેજર',
                modalDesc: 'QR સ્કેન કરો (મોક) અથવા નીચેના JSONનું નિરીક્ષણ કરો. આ લેજર અંતિમ ઉત્પાદનને પ્રમાણિત કાર્બન ક્રેડિટ્સ સાથે જોડે છે.',
                batchIdText: 'બેચ ID',
                modalClose: 'બંધ કરો',
                financeTitle: 'નાણાકીય સમાવેશ — ભાવિ રોડમેપ',
                financeSub: 'ડિજિટલ રિચાર્જ, નાની લોન, ડિજિટલ ગોલ્ડ અને વીમો આયોજિત ખેડૂત-પ્રથમ સુવિધાઓ છે.',
                finance1Title: 'ડિજિટલ ચૂકવણી', finance1Desc: 'રૂપિયા વૉલેટમાં સરળ મોબાઇલ ટોપ-અપ, યુટિલિટી બિલ ચૂકવણી અને વેપારી વ્યવહારો.',
                finance2Title: 'ક્રેડિટ ઍક્સેસ', finance2Desc: 'પ્રમાણિત પાક ડેટા અને ફાર્મ ટ્રેસેબિલિટી સ્કોર્સનો ઉપયોગ કરીને કોલેટરલ-લાઇટ લોન અને માઇક્રોફાઇનાન્સ વિકલ્પો.',
                finance3Title: 'પેરામેટ્રિક વીમો', finance3Desc: 'વધારે વરસાદ, હીટ શોક અથવા ચોક્કસ પાકના નુકસાનની ઘટનાઓ માટે કસ્ટમાઇઝ્ડ ઉત્પાદનો.',
                onboardTitle: 'ઓનબોર્ડ અને કમાણી કરવા તૈયાર છો?',
                onboardDesc: 'અમારા પાઇલટ પ્રોગ્રામમાં જોડાઓ અને આજે જ જમીનના સ્વાસ્થ્ય અને આબોહવા કાર્યમાંથી આવક મેળવવાનું શરૂ કરો.',
                tipL1: 'સોઇલ ઓર્ગેનિક કાર્બન (SOC) સંગ્રહ સેટેલાઇટ સ્પેક્ટ્રોસ્કોપી દ્વારા માપવામાં આવે છે અને ગ્રાઉન્ડ સેન્સર દ્વારા માન્ય કરવામાં આવે છે.',
                tipL2: 'મૂળ ઝોનમાં માઇક્રોબાયલ સ્વાસ્થ્ય અને પોષક પ્રવૃત્તિ તંદુરસ્ત, અવશેષ-મુક્ત ઉત્પાદનની ખાતરી આપે છે.',
                tipL3: 'AI રિયલ-ટાઇમ ફીલ્ડ સ્કોર્સ અને પુનર્જીવિત પ્રથાઓના પુરાવા પ્રદાન કરવા માટે સેટેલાઇટ ડેટા પર પ્રક્રિયા કરે છે.',
                navJourney: 'ખેડૂત યાત્રા',
                journeyTitle: 'કાર્બન ક્રેડિટ તમારી યાત્રા',
                journeySub: 'કાર્બન ક્રેડિટ કમાવા માટે નોંધણીથી સરળ પગલાં',
                journeyStep1Title: 'નોંધણી અને ફીલ્ડ મેપિંગ',
                journeyStep1Desc: 'તમારા મોબાઇલ નંબરથી સાઇન અપ કરો, તમારી ફાર્મ વિગતો ઉમેરો, અને GPS અથવા સેટેલાઇટ ઇમેજરીનો ઉપયોગ કરીને તમારા ખેતરોને મેપ કરો. અમારી ટીમ તમારી માહિતી ચકાસે છે.',
                journeyStep2Title: 'જમીન પરીક્ષણ અને વિશ્લેષણ',
                journeyStep2Desc: 'સેટેલાઇટ-આધારિત જમીન પરીક્ષણ તમારા ખેતરના કાર્બનિક કાર્બન સ્તરનું વિશ્લેષણ કરે છે. AI તમારો બેસલાઇન જમીન સ્વાસ્થ્ય સ્કોર બનાવવા માટે ડેટા પર પ્રક્રિયા કરે છે.',
                journeyStep3Title: 'AI ભલામણો',
                journeyStep3Desc: 'પુનર્જીવિત પ્રથાઓ માટે વ્યક્તિગત ભલામણો પ્રાપ્ત કરો: કાર્બનિક ઇનપુટ્સ, પાક પરિભ્રમણ, કવર પાક, અને તમારા ખેતર માટે અનુકૂળ અવશેષ વ્યવસ્થાપન.',
                journeyStep4Title: 'અમલીકરણ સપોર્ટ',
                journeyStep4Desc: 'કૃષિશાસ્ત્રીઓ પાસેથી ઓન-ફીલ્ડ સપોર્ટ, ગુણવત્તાપૂર્ણ ઇનપુટ્સની પહોંચ, અને પગલું-દર-પગલું મોબાઇલ માર્ગદર્શન મેળવો. એપ્લિકેશન દ્વારા તમારી પ્રવૃત્તિઓ લોગ કરો.',
                journeyStep5Title: 'મોનિટરિંગ અને ચકાસણી',
                journeyStep5Desc: 'સેટેલાઇટ મોનિટરિંગ તમારી પ્રગતિને ટ્રેક કરે છે. AI ચકાસે છે કે તમારી પ્રથાઓ ભલામણો સાથે મેળ ખાય છે. નિયમિત પાલન સ્કોર તમારી કાર્બન ક્રેડિટ સંભાવના દર્શાવે છે.',
                journeyStep6Title: 'કાર્બન ક્રેડિટ જનરેશન',
                journeyStep6Desc: '12-18 મહિનાના ચકાસાયેલા અભ્યાસ પછી, તમારા વધેલા જમીન કાર્બનિક કાર્બનને પ્રમાણિત ભાગીદારો દ્વારા ચકાસાયેલા કાર્બન ક્રેડિટમાં રૂપાંતરિત કરવામાં આવે છે.',
                journeyStep7Title: 'ચૂકવણી અને પુરસ્કાર',
                journeyStep7Desc: '30 દિવસની અંદર દરેક ચકાસાયેલા ક્રેડિટ માટે ₹800 સીધા તમારા બેંક એકાઉન્ટમાં પ્રાપ્ત કરો. તમારી કમાણી ટ્રેક કરો અને વધારાની નાણાકીય સેવાઓની પહોંચ મેળવો.',
                fpoTitle: 'FPO ભાગીદારી ડેશબોર્ડ',
                fpoSub: 'તમારા સભ્ય ખેડૂતોનું સંચાલન કરો, જૂથ પ્રદર્શન ટ્રેક કરો, અને સામૂહિક કાર્બન ક્રેડિટ કમાણીને મહત્તમ કરો',
                fpoStat1Label: 'સક્રિય સભ્ય ખેડૂતો',
                fpoStat1Desc: '15 ગામોમાં',
                fpoStat2Label: 'કુલ કાર્બન આવક',
                fpoStat2Desc: 'આ ત્રિમાસિક',
                fpoStat3Label: 'ચકાસાયેલા ક્રેડિટ',
                fpoStat3Desc: 'આ વર્ષે જનરેટ થયેલ',
                fpoStat4Label: 'હેક્ટર મોનિટરિંગ',
                fpoStat4Desc: 'FPO સંચાલન હેઠળ',
                fpoStat5Label: 'થોક ખરીદી મૂલ્ય',
                fpoStat5Desc: 'અવશેષ-મુક્ત ઉત્પાદન',
                fpoStat6Label: 'પાલન સ્કોર',
                fpoStat6Desc: 'જૂથ સરેરાશ',
                fpoChartTitle: 'સમય સાથે સભ્ય વૃદ્ધિ અને કાર્બન ક્રેડિટ',
                fpoChartPlaceholder: 'સભ્ય વૃદ્ધિ અને કાર્બન ક્રેડિટ જનરેશન વલણો દર્શાવતો ઇન્ટરેક્ટિવ ચાર્ટ',
                navFPODashboard: 'FPO ડેશબોર્ડ',
                navFPOMembers: 'સભ્ય વ્યવસ્થાપન',
                navFPOProcurement: 'થોક ખરીદી',
                fpoMembersTitle: 'સભ્ય વ્યવસ્થાપન',
                fpoMembersSub: 'તમારા FPO સભ્ય ખેડૂતો, તેમના ખેતરો અને અનુપાલન સ્થિતિને ટ્રેક અને વ્યવસ્થાપિત કરો',
                fpoMembersActive: 'સક્રિય સભ્યો',
                fpoMembersActiveDesc: 'પ્રથાઓ સાથે અનુપાલન',
                fpoMembersFields: 'કુલ ખેતરો',
                fpoMembersFieldsDesc: 'નિરીક્ષણ હેઠળ',
                fpoMembersCompliance: 'સરેરાશ અનુપાલન',
                fpoMembersComplianceDesc: 'આ ત્રિમાસિક',
                fpoMembersTraining: 'તાલીમ સત્રો',
                fpoMembersTrainingDesc: 'આ મહિનામાં શેડ્યૂલ',
                fpoProcurementTitle: 'થોક ખરીદી',
                fpoProcurementSub: 'સભ્ય ખેડૂતો પાસેથી અવશેષ-મુક્ત ઉત્પાદનની થોક ખરીદીનું વ્યવસ્થાપન કરો',
                fpoProcurement1Title: 'એગ્રિગેશન હબ',
                fpoProcurement1Desc: 'ગુણવત્તા તપાસ અને સોર્ટિંગ સુવિધાઓ સાથે સભ્ય ઉત્પાદન માટે કેન્દ્રીય સંગ્રહ બિંદુ.',
                fpoProcurement2Title: 'ગુણવત્તા ખાતરી',
                fpoProcurement2Desc: 'ખરીદદારોને થોક વેચાણ પહેલાં સ્વચાલિત ગુણવત્તા પરીક્ષણ અને પ્રમાણપત્ર.',
                fpoProcurement3Title: 'ઉચિત કિંમત',
                fpoProcurement3Desc: 'બધા સભ્ય ખેડૂતોને ઉચિત વળતરની ખાતરી આપતું પારદર્શક કિંમત મોડેલ.',
                navBuyerCatalog: 'ઉત્પાદન કેટલોગ',
                navBuyerTraceability: 'ટ્રેસબિલિટી',
                navBuyerProcurement: 'ખરીદી',
                navBuyerCertifications: 'પ્રમાણપત્રો',
                buyerCatalogTitle: 'અવશેષ-મુક્ત ઉત્પાદન કેટલોગ',
                buyerCatalogSub: 'સંપૂર્ણ ટ્રેસબિલિટી સાથે ચકાસાયેલ અવશેષ-મુક્ત ઉત્પાદન બ્રાઉઝ કરો',
                productBadgeCertified: 'પ્રમાણિત',
                product1Name: 'ઓર્ગેનિક ઘઉં',
                product1Desc: 'ચકાસાયેલ ખેતરોમાંથી પ્રીમિયમ ગુણવત્તા, અવશેષ-મુક્ત ઘઉં',
                product1Price: '₹2,800/ક્વિન્ટલ',
                product2Name: 'ઓર્ગેનિક કપાસ',
                product2Desc: 'કાર્બન ક્રેડિટ પ્રમાણપત્ર સાથે ટ્રેસ કરી શકાય તેવું ઓર્ગેનિક કપાસ',
                product2Price: '₹6,500/ક્વિન્ટલ',
                product3Name: 'ઓર્ગેનિક શાકભાજી',
                product3Desc: 'ચકાસાયેલ ખેતરોમાંથી તાજી, અવશેષ-મુક્ત શાકભાજી',
                product3Price: '₹45/કિલો',
                productViewDetails: 'વિગતો જુઓ',
                buyerTraceabilityTitle: 'સંપૂર્ણ ટ્રેસબિલિટી ફ્લો',
                buyerTraceabilitySub: 'સંપૂર્ણ પારદર્શિતા સાથે ખેતરથી તમારી સુવિધા સુધી તમારા ઉત્પાદનને ટ્રેક કરો',
                flowStep1Title: 'ખેતર મૂળ',
                flowStep1Desc: 'ચકાસાયેલ ખેતર સ્થાન, માટી સ્વાસ્થ્ય, અને ખેતી પ્રથાઓ',
                flowStep2Title: 'કાપણી અને સંગ્રહ',
                flowStep2Desc: 'GPS કોઓર્ડિનેટ્સ અને ગુણવત્તા તપાસ સાથે સમય-ચિહ્નિત કાપણી',
                flowStep3Title: 'પ્રક્રિયા',
                flowStep3Desc: 'ગુણવત્તા નિયંત્રણ સાથે પ્રમાણિત પ્રક્રિયા સુવિધાઓ',
                flowStep4Title: 'વિતરણ',
                flowStep4Desc: 'તમારી સુવિધા સુધી પરિવહન દરમિયાન વાસ્તવિક સમય ટ્રેકિંગ',
                flowStep5Title: 'ડિલિવરી',
                flowStep5Desc: 'સંપૂર્ણ દસ્તાવેજીકરણ અને પ્રમાણપત્રો સાથે અંતિમ ડિલિવરી',
                buyerProcurementTitle: 'ખરીદી પોર્ટલ',
                buyerProcurementSub: 'ઓર્ડર મૂકો, ડિલિવરી ટ્રેક કરો, અને તમારા ખરીદી પાઇપલાઇનનું વ્યવસ્થાપન કરો',
                buyerProcurement1Title: 'ઓર્ડર વ્યવસ્થાપન',
                buyerProcurement1Desc: 'સ્વચાલિત ઇન્વેન્ટરી વ્યવસ્થાપન સાથે થોક ઓર્ડર બનાવો અને ટ્રેક કરો.',
                buyerProcurement2Title: 'ડિલિવરી શેડ્યૂલિંગ',
                buyerProcurement2Desc: 'તમારા ઉત્પાદન કેલેન્ડર અને સ્ટોરેજ ક્ષમતાના આધારે ડિલિવરી શેડ્યૂલ કરો.',
                buyerProcurement3Title: 'ગુણવત્તા અહેવાલો',
                buyerProcurement3Desc: 'દરેક બેચ માટે વિગતવાર ગુણવત્તા અહેવાલો અને પ્રમાણપત્રોની પહોંચ.',
                buyerCertificationsTitle: 'ગુણવત્તા પ્રમાણપત્રો',
                buyerCertificationsSub: 'તમારા બધા ખરીદેલા ઉત્પાદનો માટે ચકાસાયેલ પ્રમાણપત્રો',
                buyerCert1Title: 'અવશેષ-મુક્ત પ્રમાણપત્ર',
                buyerCert1Desc: 'લેબ પરીક્ષણ અને ઉપગ્રહ નિરીક્ષણ દ્વારા ચકાસાયેલ શૂન્ય કીટનાશક અવશેષ.',
                buyerCert2Title: 'ઓર્ગેનિક પ્રમાણપત્ર',
                buyerCert2Desc: 'આંતરરાષ્ટ્રીય ઓર્ગેનિક માનકોને પૂર્ણ કરતું પ્રમાણિત ઓર્ગેનિક ઉત્પાદન.',
                buyerCert3Title: 'કાર્બન ક્રેડિટ ચકાસાયેલ',
                buyerCert3Desc: 'ચકાસાયેલ કાર્બન ક્રેડિટ જનરેશન સાથે ખેતરોમાંથી ઉત્પાદન.',
                navInvestorDashboard: 'પ્રભાવ ડેશબોર્ડ',
                navInvestorMetrics: 'ROI મેટ્રિક્સ',
                navInvestorPortfolio: 'પોર્ટફોલિયો',
                navInvestorOpportunities: 'તકો',
                investorDashboardTitle: 'પ્રભાવ ડેશબોર્ડ',
                investorDashboardSub: 'તમારા રોકાણોના પર્યાવરણીય અને નાણાકીય પ્રભાવને ટ્રેક કરો',
                investorMetric1Label: 'પ્રભાવિત ખેડૂતો',
                investorMetric1Change: '+15% આ ત્રિમાસિક',
                investorMetric2Label: 'ટન CO₂ અલગ કર્યું',
                investorMetric2Change: '+22% આ ત્રિમાસિક',
                investorMetric3Label: 'કુલ રોકાણ',
                investorMetric3Change: 'ROI: 18.5%',
                investorMetric4Label: 'વ્યવસ્થાપન હેઠળ હેક્ટર',
                investorMetric4Change: '+8% વિસ્તરણ',
                investorMetricsTitle: 'ROI અને નાણાકીય મેટ્રિક્સ',
                investorMetricsSub: 'વિગતવાર નાણાકીય પ્રદર્શન અને રોકાણ પર વળતર એનાલિટિક્સ',
                investorROI1Label: 'વાર્ષિક ROI',
                investorROI1Desc: 'કાર્બન ક્રેડિટ પર આધારિત',
                investorROI2Label: 'રોકાણ જનરેટ',
                investorROI2Desc: 'આ નાણાકીય વર્ષ',
                investorROI3Label: 'લક્ષ્ય પ્રાપ્તિ',
                investorROI3Desc: 'કાર્બન ક્રેડિટ લક્ષ્યો',
                investorROI4Label: 'સરેરાશ રોકાણ/ખેડૂત',
                investorROI4Desc: 'વાર્ષિક સરેરાશ',
                investorPortfolioTitle: 'રોકાણ પોર્ટફોલિયો',
                investorPortfolioSub: 'વિવિધ પ્રદેશો અને પાકોમાં તમારા રોકાણ પોર્ટફોલિયોનું વ્યવસ્થાપન અને ટ્રેક કરો',
                investorPortfolio1Title: 'ભૌગોલિક વિતરણ',
                investorPortfolio1Desc: 'પ્રદર્શન મેટ્રિક્સ સાથે વિવિધ રાજ્યો અને પ્રદેશોમાં રોકાણ જુઓ.',
                investorPortfolio2Title: 'પાક વિવિધતા',
                investorPortfolio2Desc: 'વિવિધ પાક પ્રકારો અને તેમની કાર્બન સંભાવના માં રોકાણ ટ્રેક કરો.',
                investorPortfolio3Title: 'સમયરેખા અને માઇલસ્ટોન',
                investorPortfolio3Desc: 'રોકાણ સમયરેખા, કાર્બન ક્રેડિટ જનરેશન માઇલસ્ટોન, અને ચૂકવણીનું નિરીક્ષણ કરો.',
                investorOpportunitiesTitle: 'રોકાણ તકો',
                investorOpportunitiesSub: 'પુનર્જીવન ખેતીમાં નવી રોકાણ તકોનું અન્વેષણ કરો',
                investorOpp1Title: 'FPO ભાગીદારી',
                investorOpp1Desc: 'બહુવિધ ખેડૂતો અને પ્રદેશોમાં પ્રભાવને સ્કેલ કરવા માટે FPOs માં રોકાણ કરો.',
                investorOpp2Title: 'પ્રાદેશિક વિસ્તરણ',
                investorOpp2Desc: 'ઉચ્ચ કાર્બન ક્રેડિટ સંભાવના સાથે નવા પ્રદેશોમાં વિસ્તરણ માટે ભંડોળ.',
                investorOpp3Title: 'ટેકનોલોજી અપગ્રેડ',
                investorOpp3Desc: 'ચકાસણી અને સ્કેલિંગમાં સુધારા માટે AI અને ઉપગ્રહ ટેકનોલોજીમાં રોકાણ કરો.',
                farmerActionsTitle: 'ઝડપી ક્રિયાઓ અને સતર્ક',
                farmerActionsSub: 'મહત્વપૂર્ણ સૂચનાઓ સાથે અપડેટ રહો અને ઝડપી ક્રિયાઓ કરો',
                alertNew: 'નવું',
                farmerAction1Title: 'હવામાન સતર્ક',
                farmerAction1Desc: '2 દિવસમાં ભારે વરસાદની અપેક્ષા. તદનુસાર તમારા ખેતરો તૈયાર કરો.',
                farmerAction2Title: 'આગામી કાર્યો',
                farmerAction2Desc: 'આ સપ્તાહમાં 3 કાર્યો નિર્ધારિત છે. પાલન સ્કોર જાળવવા માટે તેમને પૂર્ણ કરો.',
                farmerAction3Title: 'ચુકવણી સ્થિતિ',
                farmerAction3Desc: '₹12,000 બાકી ચુકવણી. 5 દિવસમાં ક્રેડિટ થવાની અપેક્ષા.',
                viewDetails: 'વિગતો જુઓ',
                viewTasks: 'કાર્યો જુઓ',
                checkPayment: 'ચુકવણી તપાસો',
                fpoToolsTitle: 'સભ્ય સાધનો અને અહેવાલો',
                fpoToolsSub: 'સભ્યોને શોધો, અહેવાલો જનરેટ કરો, અને FPO કામગીરીનું વ્યવસ્થાપન કરો',
                searchMemberPlaceholder: 'નામ, ગામ, અથવા ID દ્વારા શોધો...',
                searchBtn: 'શોધો',
                exportReport: 'અહેવાલ નિકાસ કરો',
                fpoTool1Title: 'પાલન અહેવાલ',
                fpoTool1Desc: 'નિકાસ વિકલ્પો સાથે બધા સભ્યો માટે વિગતવાર પાલન અહેવાલો જનરેટ કરો.',
                fpoTool2Title: 'પ્રદર્શન એનાલિટિક્સ',
                fpoTool2Desc: 'જૂથ પ્રદર્શન મેટ્રિક્સ, વલણો, અને સુધારાના ક્ષેત્રો જુઓ.',
                fpoTool3Title: 'થોક સૂચનાઓ',
                fpoTool3Desc: 'SMS અથવા એપ્લિકેશન દ્વારા બધા સભ્યોને જાહેરાતો અને અપડેટ્સ મોકલો.',
                buyerToolsTitle: 'ઓર્ડર વ્યવસ્થાપન અને ટ્રેકિંગ',
                buyerToolsSub: 'ઓર્ડર ટ્રેક કરો, ઉત્પાદનો ફિલ્ટર કરો, અને તમારી ખરીદીનું વ્યવસ્થાપન કરો',
                filterAll: 'બધા ઓર્ડર',
                filterPending: 'બાકી',
                filterProcessing: 'પ્રક્રિયા',
                filterShipped: 'મોકલ્યું',
                filterDelivered: 'પહોંચાડ્યું',
                searchOrderPlaceholder: 'ઓર્ડર શોધો...',
                filterBtn: 'ફિલ્ટર',
                buyerTool1Title: 'લાઇવ ટ્રેકિંગ',
                buyerTool1Desc: 'GPS અપડેટ્સ સાથે ખેતરથી સુવિધા સુધી તમારા ઓર્ડરનું વાસ્તવિક સમય ટ્રેકિંગ.',
                buyerTool2Title: 'અદ્યતન ફિલ્ટર',
                buyerTool2Desc: 'પાક પ્રકાર, પ્રમાણપત્ર, પ્રદેશ, અથવા કાર્બન ક્રેડિટ સ્થિતિ દ્વારા ફિલ્ટર કરો.',
                buyerTool3Title: 'ડેટા નિકાસ',
                buyerTool3Desc: 'ઓર્ડર ઇતિહાસ, પ્રમાણપત્રો, અને ટ્રેસબિલિટી અહેવાલો ડાઉનલોડ કરો.',
                investorToolsTitle: 'એનાલિટિક્સ અને અંતર્દ્રષ્ટિ',
                investorToolsSub: 'અદ્યતન એનાલિટિક્સ, ચાર્ટ્સ, અને રોકાણ અંતર્દ્રષ્ટિ',
                periodWeek: 'છેલ્લું અઠવાડિયું',
                periodMonth: 'છેલ્લો મહિનો',
                periodQuarter: 'છેલ્લો ત્રિમાસિક',
                periodYear: 'છેલ્લું વર્ષ',
                generateReport: 'અહેવાલ જનરેટ કરો',
                exportData: 'ડેટા નિકાસ કરો',
                investorTool1Title: 'ROI વલણો',
                investorTool1Desc: 'અનુમાનો સાથે સમય સાથે ROI વલણો દર્શાવતા ઇન્ટરેક્ટિવ ચાર્ટ્સ.',
                investorTool2Title: 'પોર્ટફોલિયો બ્રેકડાઉન',
                investorTool2Desc: 'પ્રદેશ, પાક, અને પ્રદર્શન દ્વારા રોકાણનું દ્રશ્ય બ્રેકડાઉન.',
                investorTool3Title: 'પ્રભાવ મેટ્રિક્સ',
                investorTool3Desc: 'પર્યાવરણીય પ્રભાવ, કાર્બન અલગતા, અને ખેડૂત લાભો ટ્રેક કરો.',
            }
        };


        // --- Core Translation Logic ---
        function translatePage(newLang) {
            lang = newLang;
            const currentTranslations = translations[lang];

            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (currentTranslations[key]) {
                    el.textContent = currentTranslations[key];
                }
            });

            document.querySelectorAll('[data-i18n-html]').forEach(el => {
                const key = el.getAttribute('data-i18n-html');
                if (currentTranslations[key]) {
                    el.innerHTML = currentTranslations[key];
                    lucide.createIcons();
                }
            });

            document.querySelectorAll('[data-i18n-prepend]').forEach(el => {
                const key = el.getAttribute('data-i18n-prepend');
                const originalText = el.dataset.originalText || el.textContent.split(': ')[1];
                if (!el.dataset.originalText) {
                    el.dataset.originalText = originalText;
                }
                if (currentTranslations[key] && originalText) {
                    el.textContent = currentTranslations[key] + ': ' + originalText;
                }
            });

            document.querySelectorAll('#practice option').forEach(option => {
                const key = option.getAttribute('data-i18n');
                if (currentTranslations[key]) {
                    option.textContent = currentTranslations[key];
                }
            });

            // Translate log action modal
            document.querySelectorAll('#actionType option').forEach(option => {
                const key = option.getAttribute('data-i18n');
                if (currentTranslations[key]) {
                    option.textContent = currentTranslations[key];
                }
            });

            document.querySelectorAll('#actionField option').forEach(option => {
                const key = option.getAttribute('data-i18n');
                if (currentTranslations[key]) {
                    option.textContent = currentTranslations[key];
                }
            });

            document.title = currentTranslations.pageTitle;

            document.querySelectorAll('.lang-switch button').forEach(button => {
                button.classList.toggle('active', button.id.endsWith(lang));
            });

            const currentAud = document.querySelector('.dropdown-item.active') ? document.querySelector('.dropdown-item.active').dataset.audience : 'farmer';
            setAudience(currentAud);

            calculateIncome();
            renderTasks(); // Render tasks upon language change
            updateProgress(); // Update progress on language change
        }
        // --- End Core Translation Logic ---

        // --- TRACEABILITY DEMO FUNCTIONS (UPDATED) ---
        function loadTraceabilityDemo() {
            // 1. Mock data for the ledger
            const ledgerData = [
                // Added FarmerZone for better context
                { batch: 'WHEAT-B001', farmer: '4589', zone: 'Karnal', practice: 'No-Till Farming', credits: 1.2, date: '2025-09-15', status: 'Verified' },
                { batch: 'COTTON-C012', farmer: '1234', zone: 'Surendranagar', practice: 'Cover Cropping', credits: 0.8, date: '2025-05-20', status: 'Verified' },
                { batch: 'VEG-X901', farmer: '7701', zone: 'Pune', practice: 'Water Conservation', credits: 0.6, date: '2025-08-01', status: 'Verified' },
            ];

            const ledgerBody = document.getElementById('ledgerBody');
            if (!ledgerBody) return;

            // 2. Build the improved ledger table HTML
            let tableHTML = `
        <table class="ledger-table">
            <thead>
                <tr>
                    <th>Batch ID</th>
                    <th>Regen Practice</th>
                    <th>Farmer / Zone</th>
                    <th>Credits (tCO2e)</th>
                    <th>Verification Date</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
    `;

            ledgerData.forEach(item => {
                tableHTML += `
            <tr>
                <td><strong>${item.batch}</strong></td>
                <td>${item.practice}</td>
                <td>F-${item.farmer} (${item.zone})</td>
                <td class="highlight-green">${item.credits.toFixed(2)}</td>
                <td>${item.date}</td>
                <td>
                    <span class="badge-verified">
                        <i data-lucide="shield-check"></i> 
                        ${item.status}
                    </span>
                </td>
            </tr>
        `;
            });

            tableHTML += '</tbody></table>';

            // 3. Inject content and show modal
            ledgerBody.innerHTML = tableHTML;
            document.getElementById('traceabilityModal').style.display = 'block';

            // Call Lucide to render the new icon inside the modal
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }
        // --- END TRACEABILITY DEMO FUNCTIONS ---
        // --- END TRACEABILITY DEMO FUNCTIONS ---
        // 1. Connect the Traceability Demo button to the new function
        document.getElementById('traceabilityDemoBtn').addEventListener('click', loadTraceabilityDemo);

        // 2. Hook for the modal close button (This ensures the 'x' icon works)
        document.querySelectorAll('.modal-close').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.target.closest('.modal').style.display = 'none';
            });
        });

        function setAudience(aud) {
            currentAudience = aud;

            const currentAudItem = document.querySelector(`.dropdown-item[data-audience="${aud}"]`);
            if (currentAudItem) {
                roleDropdownBtn.querySelector('span').textContent = currentAudItem.textContent;
                dropdownItems.forEach(i => i.classList.remove('active'));
                currentAudItem.classList.add('active');
            }

            document.getElementById('hero-sub').innerText = translations[lang]['heroSub_' + aud];
            if (aud === 'farmer') {
                document.getElementById('joinBtn').innerText = translations[lang].joinFarmer;
                document.getElementById('join2').innerText = translations[lang].joinFarmer;
            } else if (aud === 'fpo') {
                document.getElementById('joinBtn').innerText = translations[lang].joinFPO;
                document.getElementById('join2').innerText = translations[lang].joinFPO;
            } else if (aud === 'buyer') {
                document.getElementById('joinBtn').innerText = translations[lang].contactBuyers;
                document.getElementById('join2').innerText = translations[lang].contactBuyers;
            } else {
                document.getElementById('joinBtn').innerText = translations[lang].contactInvestors;
                document.getElementById('join2').innerText = translations[lang].contactInvestors;
            }

            // Role-based section visibility
            document.querySelectorAll('[data-role]').forEach(section => {
                const roles = section.getAttribute('data-role');

                // 1. Check for the next element (the divider)
                const nextElement = section.nextElementSibling;
                const isDivider = nextElement && nextElement.classList.contains('section-divider');

                let isVisible = roles === 'all' || roles.split(',').includes(aud);

                if (isVisible) {
                    section.style.display = 'block';
                    section.classList.remove('hidden');

                    // 2. Show the divider if the section is visible
                    if (isDivider) {
                        nextElement.style.display = 'block';
                    }
                } else {
                    section.style.display = 'none';
                    section.classList.add('hidden');

                    // 3. Hide the divider if the section is hidden
                    if (isDivider) {
                        nextElement.style.display = 'none';
                    }
                }
            });

            // Role-based navigation visibility
            document.querySelectorAll('.nav-link-role').forEach(link => {
                const linkRole = link.getAttribute('data-role');
                if (linkRole === 'all') {
                    link.classList.remove('hidden');
                } else {
                    const linkRoleArray = linkRole.split(',');
                    if (linkRoleArray.includes(aud)) {
                        link.classList.remove('hidden');
                    } else {
                        link.classList.add('hidden');
                    }
                }
            });

            // Scroll to top when role changes
            window.scrollTo({ top: 0, behavior: 'smooth' });

            if (aud === 'investor' && typeof updateInvestorChart === 'function') {
                updateInvestorChart();
            }
        }

        // Tooltip Logic
        const tooltip = document.getElementById('res-tooltip');
        const layerMap = { 'l1': 'tipL1', 'l2': 'tipL2', 'l3': 'tipL3' };

        function showTooltip(key) {
            tooltip.textContent = translations[lang][key];
            tooltip.style.display = 'block';
            setTimeout(() => { tooltip.style.opacity = 1; }, 10);
        }
        function hideTooltip() {
            tooltip.style.opacity = 0;
            setTimeout(() => { tooltip.style.display = 'none'; }, 300);
        }
        document.querySelectorAll('.layer').forEach(layer => {
            layer.addEventListener('mouseover', (e) => showTooltip(layerMap[e.currentTarget.id]));
            layer.addEventListener('mouseout', hideTooltip);
        });

        // Carbon Calculator Logic
        const areaInput = document.getElementById('area');
        const practiceSelect = document.getElementById('practice');
        const calcResult = document.getElementById('calcResult');

        function calculateIncome() {
            const area = parseFloat(areaInput.value);
            const practiceFactor = parseFloat(practiceSelect.value);
            const creditValue = 800;
            const baseCreditsPerHectare = 0.5;

            if (isNaN(area) || area <= 0) {
                calcResult.innerHTML = `<span class="result-placeholder">${translations[lang].calcPlaceholder}</span>`;
                calcResult.classList.remove('has-value');
                return;
            }

            const estimatedCredits = area * baseCreditsPerHectare * practiceFactor;
            const income = estimatedCredits * creditValue;

            calcResult.innerHTML = `
                <div style="display: flex; flex-direction: column; gap: 8px;">
                    <div style="font-size: 1.5rem; color: var(--earth-green);">${translations[lang].calcResultPrefix}${Math.round(income).toLocaleString('en-IN')}</div>
                    <div style="font-size: 0.85rem; color: #666; font-weight: 500;">
                        ~${estimatedCredits.toFixed(1)} credits × ₹${creditValue}
                    </div>
                </div>
            `;
            calcResult.classList.add('has-value');

            // Trigger animation
            setTimeout(() => calcResult.classList.remove('has-value'), 500);
        }

        // Real-time calculation
        areaInput.addEventListener('input', calculateIncome);
        areaInput.addEventListener('change', calculateIncome);
        practiceSelect.addEventListener('change', calculateIncome);

        // Initial calculation if default values exist
        if (areaInput.value || practiceSelect.value) {
            calculateIncome();
        }

        // Traceability Modal Logic
        const traceModal = document.getElementById('traceModal');
        const traceJson = document.getElementById('traceJson');
        const sampleJson = {
            "batchID": "RUP-2025-001", "farmerID": "F-8924", "location": "Gujarat, India",
            "crop": "Cotton", "hectares": 1.5, "verificationDate": "2025-10-20",
            "verifiedCredits": "750", "buyer": "Globeco Foods Inc.", "soilCarbonImprovement": "+0.4% SOC",
            "traceLink": "blockchain.rupiya.app/2025-001"
        };

        function showTrace() {
            traceJson.textContent = JSON.stringify(sampleJson, null, 2);
            traceModal.style.display = 'flex';
            setTimeout(() => traceModal.querySelector('.modal').classList.add('active'), 10);
        }
        function closeTrace() {
            traceModal.querySelector('.modal').classList.remove('active');
            setTimeout(() => {
                traceModal.style.display = 'none';
                lucide.createIcons();
            }, 300);
        }
        document.getElementById('traceBtn').addEventListener('click', showTrace);
        document.getElementById('traceModal').addEventListener('click', (e) => {
            if (e.target.id === 'traceModal') closeTrace();
        });

        // --- NEW: ENHANCED TASK MANAGER LOGIC ---

        // 1. Task Data Model with Status and Weight
        let tasks = [
            { id: 1, key: 'task1', icon: 'zap', priority: 'high', completed: false, weight: 0.5 }, // High priority tasks weight more
            { id: 2, key: 'task2', icon: 'droplet', priority: 'medium', completed: false, weight: 0.3 },
            { id: 3, key: 'task3', icon: 'users', priority: 'medium', completed: false, weight: 0.2 },
        ];

        // 2. Function to Update the Progress Circle
        function updateProgress() {
            const totalWeight = tasks.reduce((sum, task) => sum + task.weight, 0);
            const completedWeight = tasks.filter(t => t.completed).reduce((sum, task) => sum + task.weight, 0);

            // Calculate progress percentage, capped at 100%
            const complianceScore = Math.min(100, Math.round((completedWeight / totalWeight) * 100));

            document.getElementById('progressPercent').textContent = `${complianceScore}%`;

            // Update Lottie Animation (Basic: just color change)
            const progressAnim = document.getElementById('progressAnimation');
            if (complianceScore >= 80) {
                progressAnim.style.filter = 'hue-rotate(0deg)'; // Green/Success
            } else if (complianceScore >= 50) {
                progressAnim.style.filter = 'hue-rotate(-40deg)'; // Yellow/Warning
            } else {
                progressAnim.style.filter = 'hue-rotate(-80deg)'; // Red/Low
            }

            // Optional: Update the Lottie file or state based on score (more complex Lottie feature)
            // For this demo, simple hue rotation will suffice.
        }

        // 3. Function to Handle Task Completion Click
        function toggleTask(taskId) {
            const taskIndex = tasks.findIndex(t => t.id === taskId);
            if (taskIndex !== -1) {
                tasks[taskIndex].completed = !tasks[taskIndex].completed;
                renderTasks();
                updateProgress();
            }
        }

        // 4. Function to Render the Tasks (Updated)
        function renderTasks() {
            const taskList = document.getElementById('taskList');
            taskList.innerHTML = '';

            if (tasks.length === 0) {
                taskList.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #999;">
                        <i data-lucide="check-circle" style="width: 48px; height: 48px; margin: 0 auto 16px; display: block; opacity: 0.5;"></i>
                        <p style="margin: 0;">No tasks available</p>
                    </div>
                `;
                lucide.createIcons();
                return;
            }

            tasks.forEach((task, index) => {
                const currentTranslations = translations[lang];

                const taskCard = document.createElement('div');
                taskCard.className = `task-card ${task.priority === 'high' ? 'high-priority' : ''}`;
                taskCard.dataset.taskId = task.id;
                taskCard.style.opacity = task.completed ? '0.6' : '1';
                taskCard.style.transitionDelay = `${index * 50}ms`;

                if (task.completed) {
                    taskCard.style.background = 'linear-gradient(90deg, #e8f5e9, #ffffff)';
                }

                // Add click listener to toggle the task
                taskCard.addEventListener('click', (e) => {
                    e.stopPropagation();
                    toggleTask(task.id);
                });

                // Determine icon based on status
                const iconName = task.completed ? 'check-circle-2' : task.icon;
                const iconColor = task.completed ? '#4CAF50' : task.priority === 'high' ? '#f44336' : 'var(--earth-green)';

                const iconElement = document.createElement('i');
                iconElement.setAttribute('data-lucide', iconName);
                iconElement.style.width = '28px';
                iconElement.style.height = '28px';
                iconElement.style.color = iconColor;
                iconElement.style.flexShrink = '0';

                const contentDiv = document.createElement('div');
                contentDiv.className = 'content';
                contentDiv.style.flex = '1';

                const titleElement = document.createElement('h4');
                titleElement.textContent = task.customTitle || currentTranslations[`${task.key}Title`] || 'Task';
                if (task.completed) {
                    titleElement.style.textDecoration = 'line-through';
                    titleElement.style.opacity = '0.7';
                }

                const descElement = document.createElement('p');
                descElement.textContent = task.customDesc || currentTranslations[`${task.key}Desc`] || '';
                if (task.completed) {
                    descElement.style.opacity = '0.6';
                }

                const dateElement = document.createElement('div');
                dateElement.className = 'date';
                dateElement.textContent = task.customDate || currentTranslations[`${task.key}Date`] || '';

                contentDiv.appendChild(titleElement);
                contentDiv.appendChild(descElement);

                taskCard.appendChild(iconElement);
                taskCard.appendChild(contentDiv);
                taskCard.appendChild(dateElement);

                taskList.appendChild(taskCard);
            });

            // Re-initialize lucide icons for the new elements
            lucide.createIcons();
        }

        // Log Action Modal Functions
        const logActionModal = document.getElementById('logActionModal');
        const logActionForm = document.getElementById('logActionForm');

        function showLogAction() {
            // Set today's date as default
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('actionDate').value = today;

            logActionModal.style.display = 'flex';
            setTimeout(() => logActionModal.querySelector('.modal').classList.add('active'), 10);
            lucide.createIcons();
        }

        function closeLogAction() {
            logActionModal.querySelector('.modal').classList.remove('active');
            setTimeout(() => {
                logActionModal.style.display = 'none';
                logActionForm.reset();
            }, 300);
        }

        // Handle form submission
        logActionForm.addEventListener('submit', (e) => {
            e.preventDefault();

            const actionType = document.getElementById('actionType').value;
            const actionDate = document.getElementById('actionDate').value;
            const actionField = document.getElementById('actionField').value;
            const actionDetails = document.getElementById('actionDetails').value;

            // Create a new task from the logged action
            const actionTypeMap = {
                'fertilizer': { icon: 'leaf', priority: 'high' },
                'irrigation': { icon: 'droplet', priority: 'medium' },
                'pesticide': { icon: 'shield-alert', priority: 'high' },
                'harvest': { icon: 'wheat', priority: 'medium' },
                'other': { icon: 'file-text', priority: 'medium' }
            };

            const actionInfo = actionTypeMap[actionType] || { icon: 'file-text', priority: 'medium' };

            const newTask = {
                id: Date.now(), // Use timestamp as unique ID
                key: 'taskCustom',
                icon: actionInfo.icon,
                priority: actionInfo.priority,
                completed: false,
                weight: actionInfo.priority === 'high' ? 0.4 : 0.2,
                customTitle: `${actionType.charAt(0).toUpperCase() + actionType.slice(1)} - ${actionField}`,
                customDesc: actionDetails,
                customDate: `Logged: ${new Date(actionDate).toLocaleDateString()}`
            };

            tasks.unshift(newTask); // Add to beginning

            // Show success message
            const submitBtn = logActionForm.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = '✓ Logged!';
            submitBtn.style.background = 'var(--leaf)';

            setTimeout(() => {
                closeLogAction();
                renderTasks();
                updateProgress();
                submitBtn.textContent = originalText;
                submitBtn.style.background = '';
            }, 1000);
        });

        // Close modal when clicking outside
        logActionModal.addEventListener('click', (e) => {
            if (e.target.id === 'logActionModal') {
                closeLogAction();
            }
        });

        // Bind log action button
        document.getElementById('logActionBtn')?.addEventListener('click', showLogAction);

        // --- END ENHANCED TASK MANAGER LOGIC ---

        // --- NEW FUNCTIONAL FEATURES ---

        // FPO Member Search Functionality
        const memberSearchBtn = document.getElementById('memberSearch')?.nextElementSibling;
        if (memberSearchBtn) {
            memberSearchBtn.addEventListener('click', () => {
                const searchTerm = document.getElementById('memberSearch')?.value;
                if (searchTerm) {
                    alert(`Searching for: ${searchTerm}\n(Feature will show member results)`);
                }
            });
        }

        // Buyer Order Filter Functionality
        const orderFilterBtn = document.getElementById('filterBtn');
        if (orderFilterBtn) {
            orderFilterBtn.addEventListener('click', () => {
                const filter = document.getElementById('orderFilter')?.value;
                const search = document.getElementById('orderSearch')?.value;
                alert(`Filtering orders:\nStatus: ${filter}\nSearch: ${search}\n(Feature will filter order list)`);
            });
        }

        // Investor Report Generation
        const generateReportBtn = document.getElementById('generateReport');
        if (generateReportBtn) {
            generateReportBtn.addEventListener('click', () => {
                const period = document.getElementById('chartPeriod')?.value;
                alert(`Generating report for: ${period}\n(Feature will generate analytics report)`);
            });
        }

        // Quick Action Buttons for Farmers
        document.querySelectorAll('[data-i18n="viewDetails"], [data-i18n="viewTasks"], [data-i18n="checkPayment"]').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const action = e.target.textContent.trim();
                if (action.includes('Details')) {
                    alert('Weather Alert Details:\nHeavy rainfall (50-70mm) expected in 2 days.\nRecommendation: Cover exposed soil, check drainage.');
                } else if (action.includes('Tasks')) {
                    document.getElementById('tasks')?.scrollIntoView({ behavior: 'smooth' });
                } else if (action.includes('Payment')) {
                    alert('Payment Status:\n₹12,000 pending from last carbon credit verification.\nExpected credit date: 5 days from today.');
                }
            });
        });


        // --- Language Switch Binding ---
        document.getElementById('lang-en').addEventListener('click', () => translatePage('en'));
        document.getElementById('lang-hi').addEventListener('click', () => translatePage('hi'));
        document.getElementById('lang-gu').addEventListener('click', () => translatePage('gu'));

        // --- 2. Mobile Menu Toggle ---
        const menuToggle = document.getElementById('mobile-menu-toggle');
        const navMenu = document.getElementById('nav-menu');

        function toggleMobileMenu(e) {
            if (e) e.stopPropagation();
            if (!menuToggle || !navMenu) return;

            const isCurrentlyOpen = navMenu.classList.contains('is-active');

            if (isCurrentlyOpen) {
                navMenu.classList.remove('is-active');
                menuToggle.setAttribute('data-lucide', 'menu');
                document.body.style.overflow = '';
            } else {
                navMenu.classList.add('is-active');
                menuToggle.setAttribute('data-lucide', 'x');
                document.body.style.overflow = 'hidden';
            }

            lucide.createIcons();
        }

        // Initialize menu toggle
        if (menuToggle && navMenu) {
            menuToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                toggleMobileMenu(e);
            });

            // Ensure icon is initialized
            lucide.createIcons();
        }

        // Close menu when a link is clicked (for mobile UX)
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                if (navMenu && navMenu.classList.contains('is-active')) {
                    toggleMobileMenu();
                }
            });
        });

        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
            if (navMenu && navMenu.classList.contains('is-active')) {
                if (!navMenu.contains(e.target) &&
                    !menuToggle.contains(e.target) &&
                    e.target !== menuToggle) {
                    toggleMobileMenu();
                }
            }
        });

        // Close menu on escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && navMenu && navMenu.classList.contains('is-active')) {
                toggleMobileMenu();
            }
        });


        // --- INITIALIZATION (Default English) ---
        document.addEventListener('DOMContentLoaded', (event) => {
            // Initialize lucide icons first
            lucide.createIcons();

            translatePage(lang);
            const currentAudiencePill = document.querySelector('.dropdown-item.active');
            // Initialize role-based visibility with default role (farmer)
            const currentAud = currentAudiencePill ? currentAudiencePill.dataset.audience : 'farmer';
            setAudience(currentAud);
            calculateIncome();
            renderTasks();
            updateProgress(); // Initialize progress on load

            // Re-initialize icons after translations (for journey and FPO sections)
            setTimeout(() => {
                lucide.createIcons();
            }, 100);

            // Ensure mobile menu toggle is visible on mobile
            const checkMobileMenu = () => {
                if (window.innerWidth <= 768) {
                    const toggle = document.getElementById('mobile-menu-toggle');
                    if (toggle) {
                        toggle.style.display = 'flex';
                    }
                } else {
                    const toggle = document.getElementById('mobile-menu-toggle');
                    if (toggle) {
                        toggle.style.display = 'none';
                    }
                    // Close menu if open when resizing to desktop
                    const navMenu = document.getElementById('nav-menu');
                    if (navMenu && navMenu.classList.contains('is-active')) {
                        navMenu.classList.remove('is-active');
                        document.body.style.overflow = '';
                        if (toggle) {
                            toggle.setAttribute('data-lucide', 'menu');
                            lucide.createIcons();
                        }
                    }
                }
            };

            checkMobileMenu();
            window.addEventListener('resize', checkMobileMenu);
        });
        // --- 5. SVG Tooltip Logic (Interactive Layer Data) ---
        const svgLayersData = {
            'l1': 'The **Soil Organic Layer** is key for carbon storage. Our deep-scanning satellite analysis estimates carbon content based on historical and current farm practices.',
            'l2': 'The **Root Zone** shows active health (nutrients, microbial). AI monitors spectral data for nutrient deficiencies and crop stress, guiding timely interventions.',
            'l3': 'The **Satellite Imagery & AI Layer** provides real-time verification of practices (e.g., zero tillage, residue management) required for carbon credit validation and residue-free certification.'
        };

        const resSvg = document.getElementById('res-svg');
        const resTooltip = document.getElementById('res-tooltip');
        const svgContainer = document.querySelector('.svg-container');

        if (resSvg && resTooltip && svgContainer) {
            Object.keys(svgLayersData).forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener('mouseover', function (e) {
                        resTooltip.style.display = 'block';
                        // Replace ** with <strong> for bolding
                        resTooltip.innerHTML = svgLayersData[id].replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');

                        // Simple positioning logic (adjusting for parent container)
                        const svgRect = resSvg.getBoundingClientRect();
                        const layerRect = element.getBoundingClientRect();
                        const containerRect = svgContainer.getBoundingClientRect();

                        // Position tooltip above the middle of the layer
                        let top = (layerRect.top - containerRect.top) - resTooltip.offsetHeight - 10;
                        let left = (layerRect.left - containerRect.left) + (layerRect.width / 2) - (resTooltip.offsetWidth / 2);

                        // Clamp left position to prevent going off edges
                        left = Math.max(10, Math.min(left, containerRect.width - resTooltip.offsetWidth - 10));

                        // Ensure top is positive
                        if (top < 10) top = layerRect.bottom - containerRect.top + 10;

                        resTooltip.style.top = `${top}px`;
                        resTooltip.style.left = `${left}px`;
                    });

                    element.addEventListener('mouseout', function () {
                        resTooltip.style.display = 'none';
                    });
                }
            });
        }
        // --- 6. Scroll Reveal Animation Logic (Simple Intersection Observer) ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const delay = entry.target.getAttribute('data-delay') || 0;
                    setTimeout(() => {
                        entry.target.classList.add('show');
                        observer.unobserve(entry.target); // Stop observing once revealed
                    }, delay);
                }
            });
        }, {
            threshold: 0.1, // Start animation when 10% of the item is visible
            rootMargin: '0px 0px -50px 0px' // Slightly reduce viewport area
        });

        document.querySelectorAll('.reveal-item, .card, .section-wrap, .hero').forEach(element => {
            observer.observe(element);
        });

        // --- 7. Finance Calculator Logic ---
        document.getElementById('calculateBtn')?.addEventListener('click', () => {
            const acreage = parseFloat(document.getElementById('acreage').value);
            const crop = document.getElementById('crop').value;
            const resultElement = document.getElementById('calcResult');

            if (isNaN(acreage) || acreage <= 0) {
                resultElement.innerHTML = 'Please enter a valid acreage.';
                return;
            }

            let incomePerAcre = 0;
            let baseYieldFactor = 0;

            // Simplified hypothetical income model (in Rupees)
            switch (crop) {
                case 'cotton':
                    incomePerAcre = 20000;
                    baseYieldFactor = 1.2;
                    break;
                case 'wheat':
                    incomePerAcre = 15000;
                    baseYieldFactor = 0.8;
                    break;
                case 'vegetables':
                    incomePerAcre = 25000;
                    baseYieldFactor = 1.5;
                    break;
            }

            // Enhanced Income = (Base Yield * Acreage) + (Carbon Credits @ ₹800/unit * 0.4 units/acre)
            const baseIncome = incomePerAcre * acreage;
            const carbonIncome = acreage * 0.4 * 800;
            const totalEnhancedIncome = Math.round(baseIncome * baseYieldFactor + carbonIncome);

            // Format result as Indian Rupee Lakhs
            const lakhs = (totalEnhancedIncome / 100000).toFixed(2);

            resultElement.innerHTML = `Your **Potential Enhanced Income** is **₹ ${lakhs} Lakh** (approx).<br>
                                       *(${Math.round(carbonIncome)} from Carbon Credits)*`;
        });

        let investorChart = null; // Global variable to hold the Chart.js instance
        // --- ENHANCED COLOR DEFINITIONS (Using your CSS variables) ---
        const COLOR_LEAF = '#6ECB63';
        const COLOR_NAVY = '#1f2937';
        const COLOR_ACCENT = '#ffc107';
        const COLOR_WATER = 'rgba(0, 123, 255, 0.8)';

        // --- DYNAMIC DATA STRUCTURE BY PERIOD ---
        const DATA_BY_PERIOD = {
            // ⚡ Last Week Data (Lowest Values)
            'week': {
                kpi: { totalRevenue: 500000, totalFarmers: 250, co2Sequestered: 500 },
                financial_growth: {
                    labels: ['Day 1', 'Day 2', 'Day 3', 'Day 4', 'Day 5', 'Day 6', 'Day 7'],
                    datasets: [{ label: 'Revenue (₹)', data: [5, 7, 6, 8, 9, 10, 12] }, { label: 'Investment (₹)', data: [10, 10, 10, 12, 12, 12, 15] }]
                },
                environmental_impact: {
                    labels: ['Day 1', 'Day 3', 'Day 5', 'Day 7'],
                    datasets: [{ label: 'CO₂ Sequestered (kg)', data: [50, 70, 80, 100] }, { label: 'Water Saved (L)', data: [20, 30, 40, 50] }]
                },
                farmer_onboarding: {
                    labels: ['Small', 'Medium', 'Large'],
                    datasets: [{ data: [50, 35, 15] }]
                }
            },
            // ⚡ Last Month Data (Moderate Values)
            'month': {
                kpi: { totalRevenue: 1000000, totalFarmers: 500, co2Sequestered: 1000 },
                financial_growth: {
                    labels: ['Wk 1', 'Wk 2', 'Wk 3', 'Wk 4'],
                    datasets: [{ label: 'Revenue (₹)', data: [20, 35, 50, 70] }, { label: 'Investment (₹)', data: [50, 50, 70, 70] }]
                },
                environmental_impact: {
                    labels: ['Wk 1', 'Wk 2', 'Wk 3', 'Wk 4'],
                    datasets: [{ label: 'CO₂ Sequestered (Tonnes)', data: [100, 250, 400, 600] }, { label: 'Water Saved (ML)', data: [5, 10, 15, 20] }]
                },
                farmer_onboarding: {
                    labels: ['Small', 'Medium', 'Large'],
                    datasets: [{ data: [55, 30, 15] }]
                }
            },
            // ⚡ Last Quarter Data (Default/Medium-High Values)
            'quarter': {
                kpi: { totalRevenue: 5000000, totalFarmers: 1000, co2Sequestered: 3000 },
                financial_growth: {
                    labels: ['Month 1', 'Month 2', 'Month 3'],
                    datasets: [{ label: 'Revenue (₹ Lakhs)', data: [50, 80, 110] }, { label: 'Investment (₹ Lakhs)', data: [150, 150, 200] }]
                },
                environmental_impact: {
                    labels: ['Month 1', 'Month 2', 'Month 3'],
                    datasets: [{ label: 'CO₂ Sequestered (Tonnes)', data: [1500, 2500, 3000] }, { label: 'Water Saved (ML)', data: [50, 75, 90] }]
                },
                farmer_onboarding: {
                    labels: ['Small Farms (<2 Ha)', 'Medium Farms (2-5 Ha)', 'Large FPOs (>5 Ha)'],
                    datasets: [{ data: [60, 25, 15] }]
                }
            },
            // ⚡ Last Year Data (Highest Values)
            'year': {
                kpi: { totalRevenue: 15000000, totalFarmers: 3500, co2Sequestered: 8000 },
                financial_growth: {
                    labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                    datasets: [{ label: 'Revenue (₹ Lakhs)', data: [50, 120, 250, 400] }, { label: 'Investment (₹ Lakhs)', data: [300, 300, 350, 450] }]
                },
                environmental_impact: {
                    labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                    datasets: [{ label: 'CO₂ Sequestered (Tonnes)', data: [2500, 4000, 5500, 8000] }, { label: 'Water Saved (ML)', data: [100, 180, 250, 350] }]
                },
                farmer_onboarding: {
                    labels: ['Small Farms (<2 Ha)', 'Medium Farms (2-5 Ha)', 'Large FPOs (>5 Ha)'],
                    datasets: [{ data: [50, 30, 20] }]
                }
            }
        };


        // Mock Data for Investor Analysis (Specialized for Risk, Return, and Impact)
        const investorData = {
            // 1. FINANCIAL GROWTH VS INVESTMENT (Line Chart Focus: Risk/Return)
            financial_growth: {
                labels: ['Q1 2024', 'Q2 2024', 'Q3 2024', 'Q4 2024'],
                datasets: [
                    {
                        label: 'Platform Revenue (₹ Lakhs)',
                        data: [50, 80, 110, 150],
                        borderColor: COLOR_LEAF, // Primary Brand Color
                        backgroundColor: 'rgba(76, 175, 80, 0.5)',
                        fill: true,
                        tension: 0.4,
                        borderWidth: 3,
                        pointRadius: 5,
                        pointBackgroundColor: COLOR_LEAF
                    },
                    {
                        label: 'Investment Raised (Cumulative ₹ Lakhs)',
                        data: [150, 150, 200, 200],
                        borderColor: '#6c757d', // Muted Gray for reference data
                        backgroundColor: 'transparent',
                        borderDash: [5, 5],
                        tension: 0.2,
                        pointRadius: 3
                    }
                ]
            },
            // 2. ENVIRONMENTAL IMPACT (Bar Chart Focus: ESG Metrics)
            environmental_impact: {
                labels: ['Q1 2024', 'Q2 2024', 'Q3 2024', 'Q4 2024'],
                datasets: [
                    {
                        label: 'CO₂ Sequestered (Tonnes)',
                        data: [1500, 2500, 3000, 4000],
                        backgroundColor: COLOR_LEAF,
                        yAxisID: 'y' // Uses the left axis
                    },
                    {
                        label: 'Water Saved (Mega Liters)',
                        data: [50, 75, 90, 120],
                        backgroundColor: COLOR_WATER,
                        yAxisID: 'y1' // Uses the right axis
                    }
                ]
            },
            // 3. FARMER ONBOARDING (Pie Chart Focus: Scalability/Risk Distribution)
            farmer_onboarding: {
                labels: ['Small Farms (<2 Ha)', 'Medium Farms (2-5 Ha)', 'Large FPOs (>5 Ha)'],
                datasets: [{
                    data: [55, 30, 15], // Distribution percentages
                    backgroundColor: [COLOR_LEAF, COLOR_NAVY, COLOR_ACCENT], // High contrast distribution
                    hoverOffset: 10,
                    borderWidth: 2
                }]
            }
        };


        // --- CHART.JS RENDER FUNCTION ---
        function renderInvestorGraph() {
            // ⚡ Correct IDs from the HTML fix
            const dataSeriesSelect = document.getElementById('data-series');
            const graphTypeSelect = document.getElementById('graph-type-select');
            const investorChartCanvas = document.getElementById('investorChartCanvas'); // Correct Canvas ID
            const timePeriodSelect = document.getElementById('chartPeriod');

            if (!dataSeriesSelect || !graphTypeSelect || !investorChartCanvas || typeof Chart === 'undefined') {
                return;
            }

            let selectedSeriesKey = dataSeriesSelect.value;
            let selectedGraphType = graphTypeSelect.value;


            if (investorChart) {
                investorChart.destroy();
            }
            // Override pie chart to doughnut for modern aesthetic
            if (selectedGraphType === 'pie') {
                selectedGraphType = 'doughnut';
            }

            // ⚡ FIX 1: If PIE/DOUGHNUT is selected, auto-select the DISTRIBUTION data
            // if (selectedGraphType === 'doughnut') {
            //     selectedSeriesKey = 'farmer_onboarding';
            //     dataSeriesSelect.value = selectedSeriesKey; // Update dropdown selection visually
            // }

            //old
            // const data = JSON.parse(JSON.stringify(investorData[selectedSeriesKey]));
            // NEW: Access the DATA_BY_PERIOD object using the selected period and series key
            // NEW (CORRECT):
            const selectedPeriod = timePeriodSelect.value;

            // Ensure data exists for the selected period/series before parsing
            if (!DATA_BY_PERIOD[selectedPeriod] || !DATA_BY_PERIOD[selectedPeriod][selectedSeriesKey]) {
                // Handle error or display a message if data is missing
                console.error(`Data not found for Period: ${selectedPeriod} and Series: ${selectedSeriesKey}`);
                return;
            }

            // Data is now pulled correctly from the period-based structure
            const data = JSON.parse(JSON.stringify(DATA_BY_PERIOD[selectedPeriod][selectedSeriesKey]));

            // --- Dynamic Chart Options ---
            let options = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20, // Space out the legend items
                            font: { size: 12, family: 'Inter' }
                        }
                    },
                    title: {
                        display: true,
                        text: dataSeriesSelect.options[dataSeriesSelect.selectedIndex].text + ' Analysis',
                        font: { size: 16, weight: 'bold', family: 'Poppins' }
                    },
                    tooltip: {
                        backgroundColor: COLOR_NAVY, // Dark tooltip background
                        titleFont: { family: 'Poppins' }
                    }
                },
                scales: {}, // Scales will be overwritten below if needed
                // indexAxis: 'x',
                cutout: selectedGraphType === 'doughnut' ? '75%' : '0%', // Doughnut specific option ,
            };

            // --- ⚡ CRUCIAL FIX: Ensure scales are only defined for bar/line charts ---
            if (selectedGraphType === 'doughnut') {
                delete options.scales; // Safely removes the scales property if it exists
            } else if (selectedSeriesKey === 'environmental_impact') {
                // Dual Axis configuration
                options.scales = {
                    y: { grid: { color: 'rgba(0, 0, 0, 0.05)' }, title: { display: true, text: 'CO₂ Sequestered (Tonnes)', color: COLOR_LEAF } },
                    y1: { type: 'linear', display: true, position: 'right', min: 0, grid: { drawOnChartArea: false }, title: { display: true, text: 'Water Saved (ML)', color: COLOR_WATER } }
                };
            } else if (selectedSeriesKey === 'financial_growth') {
                // Single Axis configuration
                options.scales = {
                    y: { beginAtZero: true, grid: { color: 'rgba(0, 0, 0, 0.05)' }, title: { display: true, text: 'Value (₹ Lakhs)' } },
                    x: { grid: { display: false } }
                };
            }

            // --- Create Gradient for Area Chart (Financial Growth) ---
            if (selectedSeriesKey === 'financial_growth' && selectedGraphType === 'line') {
                const ctx = investorChartCanvas.getContext('2d');
                const gradient = ctx.createLinearGradient(0, 0, 0, 300);
                gradient.addColorStop(0, 'rgba(76, 175, 80, 0.4)'); // Top: lighter green
                gradient.addColorStop(1, 'rgba(76, 175, 80, 0.05)'); // Bottom: almost transparent

                // Apply gradient to the primary dataset
                data.datasets[0].backgroundColor = gradient;
                data.datasets[0].fill = 'origin'; // Ensure it fills the area
            }

            // --- Configure Axes based on Data Series ---
            if (selectedSeriesKey === 'environmental_impact') {
                // Dual Axis for CO2 (Tons) and Water (ML)
                options.scales = {
                    y: {
                        type: 'linear', display: true, position: 'left', min: 0,
                        grid: { color: 'rgba(0, 0, 0, 0.05)' }, // Light grid lines
                        title: { display: true, text: 'CO₂ Sequestered (Tonnes)', color: COLOR_LEAF }
                    },
                    y1: {
                        type: 'linear', display: true, position: 'right', min: 0,
                        grid: { drawOnChartArea: false },
                        title: { display: true, text: 'Water Saved (ML)', color: COLOR_WATER }
                    }
                };
            } else if (selectedSeriesKey === 'financial_growth') {
                // Single Axis for Financials
                options.scales = {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(0, 0, 0, 0.05)' },
                        title: { display: true, text: 'Value (₹ Lakhs)' }
                    },
                    x: {
                        grid: { display: false } // Remove vertical grid lines
                    }
                };
            }
            // Pie charts have no scales defined

            // --- Create the new Chart instance ---
            investorChart = new Chart(investorChartCanvas, {
                type: selectedGraphType,
                data: data,
                options: options
            });
        }
        // --- FINAL EVENT LISTENERS ---

        // 1. Link dropdown changes to the render function (instant analysis)
        document.getElementById('data-series')?.addEventListener('change', renderInvestorGraph);
        document.getElementById('graph-type-select')?.addEventListener('change', renderInvestorGraph);

        // 2. Link the button to the render function (as a manual trigger/fallback)
        document.getElementById('generate-graph')?.addEventListener('click', renderInvestorGraph);

        // 3. Initial render when the Investor role is loaded (This assumes you correctly placed 
        //    the Chart.js script tag in the <head> which is best practice)
        window.addEventListener('load', renderInvestorGraph);

        // --- DYNAMIC KPI UPDATE LOGIC (DEBUGGED) ---
        // --- ANIMATION LOGIC (Robust Fix) ---
        function animateCount(targetElement, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const easedProgress = 1 - Math.pow(1 - progress, 3);
                const currentValue = Math.floor(easedProgress * (end - start) + start);

                let formattedValue;

                // ⚡ SIMPLIFIED FORMATTING INSIDE LOOP TO AVOID CRASHES
                if (targetElement.id === 'kpi-financial-value') {
                    formattedValue = `₹ ${(currentValue / 100000).toFixed(1)} Lakh`;
                } else if (targetElement.id === 'kpi-impact-value') {
                    formattedValue = `${currentValue.toLocaleString('en-IN')} Tonnes`;
                } else {
                    formattedValue = currentValue.toLocaleString('en-IN');
                }

                targetElement.textContent = formattedValue;

                if (progress < 1) {
                    window.requestAnimationFrame(step);
                } else {
                    // ⚡ FINAL PRECISE FORMATTING
                    if (targetElement.id === 'kpi-financial-value') {
                        targetElement.textContent = `₹ ${(end / 100000).toFixed(2)} Lakh`;
                    } else if (targetElement.id === 'kpi-impact-value') {
                        targetElement.textContent = `${end.toLocaleString('en-IN')} Tonnes`;
                    } else {
                        targetElement.textContent = end.toLocaleString('en-IN');
                    }
                }
            };
            window.requestAnimationFrame(step);
        }

        // --- KPI UPDATE FUNCTION (Period-Aware) ---
        function updateInvestorKPIs() {
            const timePeriodSelect = document.getElementById('chartPeriod');
            if (!timePeriodSelect) return;

            const selectedPeriod = timePeriodSelect.value;
            const kpiData = DATA_BY_PERIOD[selectedPeriod].kpi; // ⚡ PULL DATA FROM NEW STRUCTURE

            const financialEl = document.getElementById('kpi-financial').querySelector('.kpi-value');
            const farmersEl = document.getElementById('kpi-farmers').querySelector('.kpi-value');
            const impactEl = document.getElementById('kpi-impact').querySelector('.kpi-value');

            // Set temporary IDs
            financialEl.id = 'kpi-financial-value';
            farmersEl.id = 'kpi-farmers-value';
            impactEl.id = 'kpi-impact-value';

            const duration = 1500;

            // Execute animations with new period data
            animateCount(financialEl, 0, kpiData.totalRevenue, duration);
            animateCount(farmersEl, 0, kpiData.totalFarmers, duration);
            animateCount(impactEl, 0, kpiData.co2Sequestered, duration);
        }

        // --- FINAL EVENT LISTENERS (CLEANED UP) ---

        // 1. Dropdown listeners: These trigger an update instantly when changed
        document.getElementById('data-series')?.addEventListener('change', renderInvestorGraph);
        document.getElementById('graph-type-select')?.addEventListener('change', renderInvestorGraph);

        // ⚡ FIX: This is the listener for your period dropdown (chartPeriod)
        document.getElementById('chartPeriod')?.addEventListener('change', renderInvestorGraph);

        // 2. ⚡ FIX: This ensures the "Generate Report" button explicitly triggers the render function
        const btn = document.getElementById('generate-report-btn');
        if (btn) {
            btn.addEventListener('click', () => {
                renderInvestorGraph();
                updateInvestorKPIs();
            });
        }


        // Fallback/Legacy button listener (optional, remove if you deleted the 'Analyze Data' button)
        document.getElementById('generate-graph')?.addEventListener('click', renderInvestorGraph);


        // 3. Initial load listener
        window.addEventListener('load', () => {
            // Calling renderInvestorGraph() on load will trigger the first data load and animation.
            renderInvestorGraph();
        });
        // --- APPLY COLORS TO PERIOD DATA (Auto-enhancement for all charts) ---
function applyChartColors() {

    const applyEnvImpactColors = (env) => {
        if (!env || !env.datasets) return;

        // CO2 Bar
        env.datasets[0].backgroundColor = COLOR_LEAF;
        env.datasets[0].borderColor = COLOR_LEAF;
        env.datasets[0].borderWidth = 1.5;
        env.datasets[0].yAxisID = 'y';

        // Water Bar
        env.datasets[1].backgroundColor = COLOR_WATER;
        env.datasets[1].borderColor = COLOR_WATER;
        env.datasets[1].borderWidth = 1.5;
        env.datasets[1].yAxisID = 'y1';
    };

    const applyFinancialColors = (fin) => {
        if (!fin || !fin.datasets) return;

        // Revenue Line
        fin.datasets[0].borderColor = COLOR_LEAF;
        fin.datasets[0].backgroundColor = 'rgba(76,175,80,0.15)';
        fin.datasets[0].pointBackgroundColor = COLOR_LEAF;

        // Investment Line
        fin.datasets[1].borderColor = COLOR_NAVY;
        fin.datasets[1].borderDash = [5, 5];
        fin.datasets[1].backgroundColor = '#1A3C57';
        fin.datasets[1].pointBackgroundColor = COLOR_NAVY;
    };

    const applyFarmerPieColors = (pie) => {
        if (!pie || !pie.datasets) return;

        pie.datasets[0].backgroundColor = [
           ' #6ECB63',
            '#F4D35E',
            '#4DB6E2'
        ];
        pie.datasets[0].borderColor = "#ffffff";
        pie.datasets[0].borderWidth = 2;
    };

    // Apply to every period
    for (const periodKey in DATA_BY_PERIOD) {
        const period = DATA_BY_PERIOD[periodKey];

        applyEnvImpactColors(period.environmental_impact);
        applyFinancialColors(period.financial_growth);
        applyFarmerPieColors(period.farmer_onboarding);
    }
}

// 🚀 Run this before first chart render
applyChartColors();

    </script>
</body>

</html>